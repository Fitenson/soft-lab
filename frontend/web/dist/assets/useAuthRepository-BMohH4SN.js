import{u as i,r as o,a as p,s as d,b as l}from"./main-BrdLZjmL.js";const m=i,g=()=>{const s=o.useMemo(()=>p.create({baseURL:"http://softlab-backend.test/backend",withCredentials:!0}),[]),[n,u]=o.useState(null),t=m(a=>a.loading.global),[e,c]=o.useState(null);return{data:n,isLoading:t,error:e,request:async a=>{d.dispatch(l(!0));try{const r=await s.request({url:a?.url,method:a?.method,data:a?.data,...a?.config,headers:{"Content-Type":"multipart/form-data"}});return u(r.data),r.data}catch(r){throw c(r),r}finally{d.dispatch(l(!1))}},axiosInstance:s}},f=()=>{const{request:s}=g();return{login:async t=>{const e=new FormData;return e.append("username",t.getUsername()),e.append("password",t.getPassword()),await s({url:"/auth/login",method:"POST",data:e})},register:async t=>{const e=new FormData;return e.append("fullName",t.getFullName()),e.append("username",t.getUsername()),e.append("email",t.getEmail()),e.append("password",t.getPassword()),await s({url:"/auth/register",method:"POST",data:e})}}},b=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));export{f as a,b,m as u};
