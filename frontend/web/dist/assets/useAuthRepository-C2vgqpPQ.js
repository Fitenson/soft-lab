import{a as d,b as l,c as u,d as c}from"./main-CWbDNCNx.js";import{u as p}from"./useAppSelector-DlPcuJ17.js";const i=()=>{const r=d.useMemo(()=>l.create({baseURL:"http://softlab-backend.test/backend",withCredentials:!0}),[]),n=p(a=>a.loading.global),[o,t]=d.useState(null);return{isLoading:n,error:o,request:async a=>{u.dispatch(c(!0));try{return(await r.request({url:a?.url,method:a?.method,data:a?.data,...a?.config,headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw t(s),s}finally{u.dispatch(c(!1))}},axiosInstance:r}},f=()=>{const{request:r}=i();return{login:async t=>{const e=new FormData;return e.append("username",t.getUsername()),e.append("password",t.getPassword()),await r({url:"/auth/login",method:"POST",data:e})},register:async t=>{const e=new FormData;return e.append("fullName",t.getFullName()),e.append("username",t.getUsername()),e.append("email",t.getEmail()),e.append("password",t.getPassword()),await r({url:"/auth/register",method:"POST",data:e})}}};export{f as default};
