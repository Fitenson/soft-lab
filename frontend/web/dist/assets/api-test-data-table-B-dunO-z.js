import{a as l,j as a,D as Ge,P as Xe,M as D,X as We,K as Te,L as we,as as Ye,w as V,W as B,V as J,g as Qe}from"./main-BydiQyaM.js";import{u as Ze,f as et,b as tt}from"./index-Dm0iVrRJ.js";import{T as rt,a as nt,b as W,c as at,d as lt,e as je}from"./table-CeDo63FL.js";import{c as Y}from"./ColumnConfig-C2HDgQGv.js";import{A}from"./ApiTestDataFormField-pZdwtfdR.js";import{u as ot,S as st,a as it,c as ct,d as oe}from"./select-DyZqTRV0.js";import{C as dt}from"./check-DJufTw_9.js";import{S as ut}from"./skeleton-B62LBl9Y.js";import{u as ft}from"./useAppSelector-CzTnmvtc.js";import{I as mt}from"./input-Dgs5CwRh.js";import{F as pt,a as se,b as ie,d as ce,L as ht}from"./form-DX3O4RJO.js";import{d as bt}from"./index.esm-CJK8tDOI.js";import{P as gt,a as vt,b as xt}from"./popover-CCLIJllB.js";import{R as kt,P as yt,O as Ct,C as wt}from"./index-DPZ8b9Kb.js";import{c as jt}from"./createLucideIcon-CRm3YF41.js";import"./button-C-rnLBLf.js";import"./index-DXJwAmiN.js";import"./index-BnvXX4n8.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Et=jt("search",St);var Q="Checkbox",[Rt,Nr]=Ge(Q),[Nt,he]=Rt(Q);function It(e){const{__scopeCheckbox:t,checked:r,children:d,defaultChecked:s,disabled:o,form:f,name:p,onCheckedChange:b,required:c,value:g="on",internal_do_not_use_render:i}=e,[m,x]=We({prop:r,defaultProp:s??!1,onChange:b,caller:Q}),[y,S]=l.useState(null),[j,E]=l.useState(null),R=l.useRef(!1),L=y?!!f||!!y.closest("form"):!0,M={checked:m,disabled:o,setChecked:x,control:y,setControl:S,name:p,form:f,value:g,hasConsumerStoppedPropagationRef:R,required:c,defaultChecked:P(s)?!1:s,isFormControl:L,bubbleInput:j,setBubbleInput:E};return a.jsx(Nt,{scope:t,...M,children:Tt(i)?i(M):d})}var De="CheckboxTrigger",Fe=l.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...d},s)=>{const{control:o,value:f,disabled:p,checked:b,required:c,setControl:g,setChecked:i,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:y}=he(De,e),S=Te(s,g),j=l.useRef(b);return l.useEffect(()=>{const E=o?.form;if(E){const R=()=>i(j.current);return E.addEventListener("reset",R),()=>E.removeEventListener("reset",R)}},[o,i]),a.jsx(D.button,{type:"button",role:"checkbox","aria-checked":P(b)?"mixed":b,"aria-required":c,"data-state":Le(b),"data-disabled":p?"":void 0,disabled:p,value:f,...d,ref:S,onKeyDown:we(t,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:we(r,E=>{i(R=>P(R)?!0:!R),y&&x&&(m.current=E.isPropagationStopped(),m.current||E.stopPropagation())})})});Fe.displayName=De;var Ae=l.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:d,checked:s,defaultChecked:o,required:f,disabled:p,value:b,onCheckedChange:c,form:g,...i}=e;return a.jsx(It,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:p,required:f,onCheckedChange:c,name:d,form:g,value:b,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(Fe,{...i,ref:t,__scopeCheckbox:r}),m&&a.jsx(_e,{__scopeCheckbox:r})]})})});Ae.displayName=Q;var Pe="CheckboxIndicator",$e=l.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:d,...s}=e,o=he(Pe,r);return a.jsx(Xe,{present:d||P(o.checked)||o.checked===!0,children:a.jsx(D.span,{"data-state":Le(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});$e.displayName=Pe;var Me="CheckboxBubbleInput",_e=l.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:d,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:f,required:p,disabled:b,name:c,value:g,form:i,bubbleInput:m,setBubbleInput:x}=he(Me,e),y=Te(r,x),S=ot(o),j=Ye(d);l.useEffect(()=>{const R=m;if(!R)return;const L=window.HTMLInputElement.prototype,F=Object.getOwnPropertyDescriptor(L,"checked").set,w=!s.current;if(S!==o&&F){const N=new Event("click",{bubbles:w});R.indeterminate=P(o),F.call(R,P(o)?!1:o),R.dispatchEvent(N)}},[m,S,o,s]);const E=l.useRef(P(o)?!1:o);return a.jsx(D.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??E.current,required:p,disabled:b,name:c,value:g,form:i,...t,tabIndex:-1,ref:y,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_e.displayName=Me;function Tt(e){return typeof e=="function"}function P(e){return e==="indeterminate"}function Le(e){return P(e)?"indeterminate":e?"checked":"unchecked"}function ze({className:e,...t}){return a.jsx(Ae,{"data-slot":"checkbox",className:V("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx($e,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(dt,{className:"size-3.5"})})})}function Dt(e,t){return({getValue:r,row:d})=>{const s=!!r(),o=d.original,f=t?.disabled?.(o)??!1,p=t?.ariaLabel?.(o)??"Toggle";return a.jsx("div",{className:"flex items-center",onClick:b=>b.stopPropagation(),children:a.jsx(ze,{checked:s,disabled:f,"aria-label":p,onCheckedChange:b=>e({row:o,next:!!b}),className:"translate-y-[1px]"})})}}const Ft=[Y({accessorKey:A.enabled.name,header:null,size:44,minSize:36,maxSize:64,enableSorting:!1,cell:Dt(({row:e,next:t})=>{console.log(e),console.log(t)},{})}),Y({accessorKey:A.key.name,header:A.key.label,enableSorting:!1}),Y({accessorKey:A.value.name,header:A.value.label,enableSorting:!1}),Y({accessorKey:A.description.name,header:A.description.label,enableSorting:!1})];class Se{field={};table=new Set;type=null;setField(t){switch(this.type=t,t){case"text":this.field={text:"string"};break;case"file":this.field={file:"base64"};break;case"dropdown":this.field={};break;default:throw new Error("Unknown field type "+t)}}setDropdown(t){if(this.type!=="dropdown")throw new Error("setDropdown() can only be used after setField('dropdown')");if(this.table.has(t))throw new Error(`Duplicate table name: ${t}`);this.table.add(t),this.field={dropdown:{table:t}}}asJSONString(){return JSON.stringify(this.field,null,2)}asJson(){return this.field}getField(){return this.field}}var Ee=1,At=.9,Pt=.8,$t=.17,de=.1,ue=.999,Mt=.9999,_t=.99,Lt=/[\\\/_+.#"@\[\(\{&]/,zt=/[\\\/_+.#"@\[\(\{&]/g,Kt=/[\s-]/,Ke=/[\s-]/g;function me(e,t,r,d,s,o,f){if(o===t.length)return s===e.length?Ee:_t;var p=`${s},${o}`;if(f[p]!==void 0)return f[p];for(var b=d.charAt(o),c=r.indexOf(b,s),g=0,i,m,x,y;c>=0;)i=me(e,t,r,d,c+1,o+1,f),i>g&&(c===s?i*=Ee:Lt.test(e.charAt(c-1))?(i*=Pt,x=e.slice(s,c-1).match(zt),x&&s>0&&(i*=Math.pow(ue,x.length))):Kt.test(e.charAt(c-1))?(i*=At,y=e.slice(s,c-1).match(Ke),y&&s>0&&(i*=Math.pow(ue,y.length))):(i*=$t,s>0&&(i*=Math.pow(ue,c-s))),e.charAt(c)!==t.charAt(o)&&(i*=Mt)),(i<de&&r.charAt(c-1)===d.charAt(o+1)||d.charAt(o+1)===d.charAt(o)&&r.charAt(c-1)!==d.charAt(o))&&(m=me(e,t,r,d,c+1,o+2,f),m*de>i&&(i=m*de)),i>g&&(g=i),c=r.indexOf(b,c+1);return f[p]=g,g}function Re(e){return e.toLowerCase().replace(Ke," ")}function Ot(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,me(e,t,Re(e),Re(t),0,0,{})}var U='[cmdk-group=""]',fe='[cmdk-group-items=""]',Bt='[cmdk-group-heading=""]',Oe='[cmdk-item=""]',Ne=`${Oe}:not([aria-disabled="true"])`,pe="cmdk-item-select",K="data-value",Vt=(e,t,r)=>Ot(e,t,r),Be=l.createContext(void 0),G=()=>l.useContext(Be),Ve=l.createContext(void 0),be=()=>l.useContext(Ve),qe=l.createContext(void 0),He=l.forwardRef((e,t)=>{let r=O(()=>{var n,h;return{search:"",value:(h=(n=e.value)!=null?n:e.defaultValue)!=null?h:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),d=O(()=>new Set),s=O(()=>new Map),o=O(()=>new Map),f=O(()=>new Set),p=Ue(e),{label:b,children:c,value:g,onValueChange:i,filter:m,shouldFilter:x,loop:y,disablePointerSelection:S=!1,vimBindings:j=!0,...E}=e,R=B(),L=B(),M=B(),F=l.useRef(null),w=er();_(()=>{if(g!==void 0){let n=g.trim();r.current.value=n,N.emit()}},[g]),_(()=>{w(6,ve)},[]);let N=l.useMemo(()=>({subscribe:n=>(f.current.add(n),()=>f.current.delete(n)),snapshot:()=>r.current,setState:(n,h,v)=>{var u,k,C,T;if(!Object.is(r.current[n],h)){if(r.current[n]=h,n==="search")ne(),te(),w(1,re);else if(n==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let I=document.getElementById(M);I?I.focus():(u=document.getElementById(R))==null||u.focus()}if(w(7,()=>{var I;r.current.selectedItemId=(I=z())==null?void 0:I.id,N.emit()}),v||w(5,ve),((k=p.current)==null?void 0:k.value)!==void 0){let I=h??"";(T=(C=p.current).onValueChange)==null||T.call(C,I);return}}N.emit()}},emit:()=>{f.current.forEach(n=>n())}}),[]),ee=l.useMemo(()=>({value:(n,h,v)=>{var u;h!==((u=o.current.get(n))==null?void 0:u.value)&&(o.current.set(n,{value:h,keywords:v}),r.current.filtered.items.set(n,ge(h,v)),w(2,()=>{te(),N.emit()}))},item:(n,h)=>(d.current.add(n),h&&(s.current.has(h)?s.current.get(h).add(n):s.current.set(h,new Set([n]))),w(3,()=>{ne(),te(),r.current.value||re(),N.emit()}),()=>{o.current.delete(n),d.current.delete(n),r.current.filtered.items.delete(n);let v=z();w(4,()=>{ne(),v?.getAttribute("id")===n&&re(),N.emit()})}),group:n=>(s.current.has(n)||s.current.set(n,new Set),()=>{o.current.delete(n),s.current.delete(n)}),filter:()=>p.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>p.current.disablePointerSelection,listId:R,inputId:M,labelId:L,listInnerRef:F}),[]);function ge(n,h){var v,u;let k=(u=(v=p.current)==null?void 0:v.filter)!=null?u:Vt;return n?k(n,r.current.search,h):0}function te(){if(!r.current.search||p.current.shouldFilter===!1)return;let n=r.current.filtered.items,h=[];r.current.filtered.groups.forEach(u=>{let k=s.current.get(u),C=0;k.forEach(T=>{let I=n.get(T);C=Math.max(I,C)}),h.push([u,C])});let v=F.current;H().sort((u,k)=>{var C,T;let I=u.getAttribute("id"),X=k.getAttribute("id");return((C=n.get(X))!=null?C:0)-((T=n.get(I))!=null?T:0)}).forEach(u=>{let k=u.closest(fe);k?k.appendChild(u.parentElement===k?u:u.closest(`${fe} > *`)):v.appendChild(u.parentElement===v?u:u.closest(`${fe} > *`))}),h.sort((u,k)=>k[1]-u[1]).forEach(u=>{var k;let C=(k=F.current)==null?void 0:k.querySelector(`${U}[${K}="${encodeURIComponent(u[0])}"]`);C?.parentElement.appendChild(C)})}function re(){let n=H().find(v=>v.getAttribute("aria-disabled")!=="true"),h=n?.getAttribute(K);N.setState("value",h||void 0)}function ne(){var n,h,v,u;if(!r.current.search||p.current.shouldFilter===!1){r.current.filtered.count=d.current.size;return}r.current.filtered.groups=new Set;let k=0;for(let C of d.current){let T=(h=(n=o.current.get(C))==null?void 0:n.value)!=null?h:"",I=(u=(v=o.current.get(C))==null?void 0:v.keywords)!=null?u:[],X=ge(T,I);r.current.filtered.items.set(C,X),X>0&&k++}for(let[C,T]of s.current)for(let I of T)if(r.current.filtered.items.get(I)>0){r.current.filtered.groups.add(C);break}r.current.filtered.count=k}function ve(){var n,h,v;let u=z();u&&(((n=u.parentElement)==null?void 0:n.firstChild)===u&&((v=(h=u.closest(U))==null?void 0:h.querySelector(Bt))==null||v.scrollIntoView({block:"nearest"})),u.scrollIntoView({block:"nearest"}))}function z(){var n;return(n=F.current)==null?void 0:n.querySelector(`${Oe}[aria-selected="true"]`)}function H(){var n;return Array.from(((n=F.current)==null?void 0:n.querySelectorAll(Ne))||[])}function ae(n){let h=H()[n];h&&N.setState("value",h.getAttribute(K))}function le(n){var h;let v=z(),u=H(),k=u.findIndex(T=>T===v),C=u[k+n];(h=p.current)!=null&&h.loop&&(C=k+n<0?u[u.length-1]:k+n===u.length?u[0]:u[k+n]),C&&N.setState("value",C.getAttribute(K))}function xe(n){let h=z(),v=h?.closest(U),u;for(;v&&!u;)v=n>0?Qt(v,U):Zt(v,U),u=v?.querySelector(Ne);u?N.setState("value",u.getAttribute(K)):le(n)}let ke=()=>ae(H().length-1),ye=n=>{n.preventDefault(),n.metaKey?ke():n.altKey?xe(1):le(1)},Ce=n=>{n.preventDefault(),n.metaKey?ae(0):n.altKey?xe(-1):le(-1)};return l.createElement(D.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:n=>{var h;(h=E.onKeyDown)==null||h.call(E,n);let v=n.nativeEvent.isComposing||n.keyCode===229;if(!(n.defaultPrevented||v))switch(n.key){case"n":case"j":{j&&n.ctrlKey&&ye(n);break}case"ArrowDown":{ye(n);break}case"p":case"k":{j&&n.ctrlKey&&Ce(n);break}case"ArrowUp":{Ce(n);break}case"Home":{n.preventDefault(),ae(0);break}case"End":{n.preventDefault(),ke();break}case"Enter":{n.preventDefault();let u=z();if(u){let k=new Event(pe);u.dispatchEvent(k)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:ee.inputId,id:ee.labelId,style:rr},b),Z(e,n=>l.createElement(Ve.Provider,{value:N},l.createElement(Be.Provider,{value:ee},n))))}),qt=l.forwardRef((e,t)=>{var r,d;let s=B(),o=l.useRef(null),f=l.useContext(qe),p=G(),b=Ue(e),c=(d=(r=b.current)==null?void 0:r.forceMount)!=null?d:f?.forceMount;_(()=>{if(!c)return p.item(s,f?.id)},[c]);let g=Je(s,o,[e.value,e.children,o],e.keywords),i=be(),m=$(w=>w.value&&w.value===g.current),x=$(w=>c||p.filter()===!1?!0:w.search?w.filtered.items.get(s)>0:!0);l.useEffect(()=>{let w=o.current;if(!(!w||e.disabled))return w.addEventListener(pe,y),()=>w.removeEventListener(pe,y)},[x,e.onSelect,e.disabled]);function y(){var w,N;S(),(N=(w=b.current).onSelect)==null||N.call(w,g.current)}function S(){i.setState("value",g.current,!0)}if(!x)return null;let{disabled:j,value:E,onSelect:R,forceMount:L,keywords:M,...F}=e;return l.createElement(D.div,{ref:J(o,t),...F,id:s,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!m,"data-disabled":!!j,"data-selected":!!m,onPointerMove:j||p.getDisablePointerSelection()?void 0:S,onClick:j?void 0:y},e.children)}),Ht=l.forwardRef((e,t)=>{let{heading:r,children:d,forceMount:s,...o}=e,f=B(),p=l.useRef(null),b=l.useRef(null),c=B(),g=G(),i=$(x=>s||g.filter()===!1?!0:x.search?x.filtered.groups.has(f):!0);_(()=>g.group(f),[]),Je(f,p,[e.value,e.heading,b]);let m=l.useMemo(()=>({id:f,forceMount:s}),[s]);return l.createElement(D.div,{ref:J(p,t),...o,"cmdk-group":"",role:"presentation",hidden:i?void 0:!0},r&&l.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),Z(e,x=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},l.createElement(qe.Provider,{value:m},x))))}),Ut=l.forwardRef((e,t)=>{let{alwaysRender:r,...d}=e,s=l.useRef(null),o=$(f=>!f.search);return!r&&!o?null:l.createElement(D.div,{ref:J(s,t),...d,"cmdk-separator":"",role:"separator"})}),Jt=l.forwardRef((e,t)=>{let{onValueChange:r,...d}=e,s=e.value!=null,o=be(),f=$(c=>c.search),p=$(c=>c.selectedItemId),b=G();return l.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),l.createElement(D.input,{ref:t,...d,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":p,id:b.inputId,type:"text",value:s?e.value:f,onChange:c=>{s||o.setState("search",c.target.value),r?.(c.target.value)}})}),Gt=l.forwardRef((e,t)=>{let{children:r,label:d="Suggestions",...s}=e,o=l.useRef(null),f=l.useRef(null),p=$(c=>c.selectedItemId),b=G();return l.useEffect(()=>{if(f.current&&o.current){let c=f.current,g=o.current,i,m=new ResizeObserver(()=>{i=requestAnimationFrame(()=>{let x=c.offsetHeight;g.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(i),m.unobserve(c)}}},[]),l.createElement(D.div,{ref:J(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":p,"aria-label":d,id:b.listId},Z(e,c=>l.createElement("div",{ref:J(f,b.listInnerRef),"cmdk-list-sizer":""},c)))}),Xt=l.forwardRef((e,t)=>{let{open:r,onOpenChange:d,overlayClassName:s,contentClassName:o,container:f,...p}=e;return l.createElement(kt,{open:r,onOpenChange:d},l.createElement(yt,{container:f},l.createElement(Ct,{"cmdk-overlay":"",className:s}),l.createElement(wt,{"aria-label":e.label,"cmdk-dialog":"",className:o},l.createElement(He,{ref:t,...p}))))}),Wt=l.forwardRef((e,t)=>$(r=>r.filtered.count===0)?l.createElement(D.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Yt=l.forwardRef((e,t)=>{let{progress:r,children:d,label:s="Loading...",...o}=e;return l.createElement(D.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Z(e,f=>l.createElement("div",{"aria-hidden":!0},f)))}),q=Object.assign(He,{List:Gt,Item:qt,Input:Jt,Group:Ht,Separator:Ut,Dialog:Xt,Empty:Wt,Loading:Yt});function Qt(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Zt(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Ue(e){let t=l.useRef(e);return _(()=>{t.current=e}),t}var _=typeof window>"u"?l.useEffect:l.useLayoutEffect;function O(e){let t=l.useRef();return t.current===void 0&&(t.current=e()),t}function $(e){let t=be(),r=()=>e(t.snapshot());return l.useSyncExternalStore(t.subscribe,r,r)}function Je(e,t,r,d=[]){let s=l.useRef(),o=G();return _(()=>{var f;let p=(()=>{var c;for(let g of r){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(c=g.current.textContent)==null?void 0:c.trim():s.current}})(),b=d.map(c=>c.trim());o.value(e,p,b),(f=t.current)==null||f.setAttribute(K,p),s.current=p}),s}var er=()=>{let[e,t]=l.useState(),r=O(()=>new Map);return _(()=>{r.current.forEach(d=>d()),r.current=new Map},[e]),(d,s)=>{r.current.set(d,s),t({})}};function tr(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Z({asChild:e,children:t},r){return e&&l.isValidElement(t)?l.cloneElement(tr(t),{ref:t.ref},r(t.props.children)):r(t)}var rr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function nr({className:e,...t}){return a.jsx(q,{"data-slot":"command",className:V("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function ar({className:e,...t}){return a.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[a.jsx(Et,{className:"size-4 shrink-0 opacity-50"}),a.jsx(q.Input,{"data-slot":"command-input",className:V("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function lr({className:e,...t}){return a.jsx(q.List,{"data-slot":"command-list",className:V("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function or({...e}){return a.jsx(q.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function sr({className:e,...t}){return a.jsx(q.Group,{"data-slot":"command-group",className:V("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function Ie({className:e,...t}){return a.jsx(q.Item,{"data-slot":"command-item",className:V("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const ir=["key","value","description"],cr=e=>ir.includes(e);function Ir({form:e}){const[t,r]=l.useState(!1),{fields:d,append:s}=bt({control:e.control,name:"apiTestData"}),o=Ze({data:e.getValues("apiTestData")??[],columns:Ft,enableRowSelection:!0,enableSorting:!1,enableFilters:!1,enableSortingRemoval:!1,getCoreRowModel:tt()}),f=ft(Qe),p=l.useRef(null),b=i=>{if(typeof i=="number"){if(p.current===i)return;p.current=i}const m=new Se;m.setField("text"),s({enabled:0,key:"",value:"",description:"",fieldType:m.asJSONString()},{shouldFocus:!1})},c=(i,m)=>{e.setValue(`apiTestData.${i}.enabled`,m),i===d.length-1&&m===1&&b(i)},g=i=>{e.getValues(`apiTestData.${i}.enabled`)!==1&&e.setValue(`apiTestData.${i}.enabled`,1),i===d.length-1&&b(i)};return l.useEffect(()=>{d.length===0&&(s({enabled:0,key:"",value:"",description:""},{shouldFocus:!1}),p.current=null)},[d.length,s]),a.jsx(pt,{...e,children:a.jsxs(rt,{className:"card",children:[a.jsx(nt,{children:o.getHeaderGroups().map(i=>a.jsx(W,{className:"border-b border-accent dark:border-accent",children:i.headers.map(m=>a.jsxs(at,{className:"m-0 p-0 border-r border-accent dark:border-accent last:border-r-0",style:{width:m.getSize()},children:[m.isPlaceholder?null:et(m.column.columnDef.header,m.getContext()),m.column.getCanResize()&&a.jsx("div",{onMouseDown:m.getResizeHandler(),onTouchStart:m.getResizeHandler(),className:`absolute right-0 top-0 h-full w-1 cursor-col-resize select-none
                                            ${m.column.getIsResizing()?"bg-blue-500":"bg-transparent hover:bg-gray-400"}`})]},m.id))},i.id))}),a.jsx(lt,{children:f?Array.from({length:5}).map((i,m)=>a.jsx(W,{children:o.getAllLeafColumns().map(x=>a.jsx("td",{className:"px-2 py-2",children:a.jsx(ut,{className:"h-4 w-full rounded-2xl p-4 m-1 gap-2"})},x.id))},`skeleton-${m}`)):d.length>0?d.map((i,m)=>a.jsx(W,{className:"cursor-pointer p-2 border border-accent dark:border-accent text-foreground dark:text-foreground",children:o.getAllLeafColumns().map(x=>a.jsx(je,{className:"p-2",children:x.id===A.enabled.name?a.jsx(se,{control:e.control,name:`apiTestData.${m}.enabled`,render:({field:y})=>a.jsx(ie,{children:a.jsx(ce,{children:a.jsx("div",{onClick:S=>S.stopPropagation(),className:"flex items-center",children:a.jsx(ze,{checked:y.value===1,onCheckedChange:S=>{const j=S?1:0;y.onChange(j),c(m,j)},"aria-label":"Toggle",className:"cursor-pointer h-6 w-6 shrink-0 translate-y-[1px]"})})})})}):cr(x.id)&&a.jsxs("div",{className:"flex flex-row gap-1",children:[a.jsx(se,{control:e.control,name:`apiTestData.${m}.${x.id}`,render:({field:y})=>a.jsx(ie,{children:a.jsx(ce,{children:a.jsx(mt,{...y,value:y.value??"",onChange:S=>y.onChange(S.target.value),onFocus:()=>g(m),className:"w-full h-8"})})})}),a.jsx(se,{name:`apiTestData.${m}.${A.fieldType.name}`,control:e.control,render:({field:y})=>a.jsx(ie,{children:a.jsx(ce,{children:x.id===A.value.name&&a.jsxs(l.Fragment,{children:[a.jsxs(st,{onValueChange:S=>{const j=new Se;j.setField(S),S==="dropdown"&&(setTimeout(()=>r(!0),500),j.setDropdown("user")),y.onChange(j.asJSONString())},children:[a.jsx(it,{className:"h-6 w-6 flex items-center justify-center rounded-md border text-xs p-1"}),a.jsxs(ct,{children:[a.jsx(oe,{value:"text",children:"Text"}),a.jsx(oe,{value:"dropdown",children:"Dropdown"}),a.jsx(oe,{value:"file",children:"File"})]})]}),a.jsxs(gt,{modal:!1,open:t,onOpenChange:r,children:[a.jsx(vt,{asChild:!0,children:a.jsx("button",{className:"hidden",type:"button"})}),t&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>r(!1)}),a.jsxs(xt,{side:"top",align:"center",className:`\r
            relative z-50 w-80 p-4 text-center\r
            bg-neutral-900 border border-neutral-700 rounded-xl shadow-2xl\r
            text-gray-100\r
          `,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(ht,{className:"text-gray-300 text-sm",children:"Table"}),a.jsx("button",{className:"text-gray-500 hover:text-gray-200",onClick:()=>r(!1),children:"✕"})]}),a.jsxs(nr,{children:[a.jsx(ar,{placeholder:"Search for a table",className:"placeholder-gray-500"}),a.jsxs(lr,{children:[a.jsx(or,{children:"No results found"}),a.jsxs(sr,{heading:"Suggestion",children:[a.jsx(Ie,{children:"User"}),a.jsx(Ie,{children:"Project"})]})]})]})]})]})]})]})})})})]})},x.id))},i.id)):a.jsx(W,{children:a.jsx(je,{colSpan:o.getAllLeafColumns().length,className:"h-24 text-center text-muted-foreground",children:"No test data rows found."})})})]})})}export{Ir as default};
