import{u as i,r as n,a as p,s as d,b as c}from"./main-Bm82VARw.js";const m=i,g=()=>{const s=n.useMemo(()=>p.create({baseURL:void 0,withCredentials:!0}),[]),[o,u]=n.useState(null),t=m(a=>a.loading.global),[e,l]=n.useState(null);return{data:o,isLoading:t,error:e,request:async a=>{d.dispatch(c(!0));try{const r=await s.request({url:a?.url,method:a?.method,data:a?.data,...a?.config,headers:{"Content-Type":"multipart/form-data"}});return u(r.data),r.data}catch(r){throw l(r),r}finally{d.dispatch(c(!1))}},axiosInstance:s}},f=()=>{const{request:s}=g();return{login:async t=>{const e=new FormData;return e.append("username",t.getUsername()),e.append("password",t.getPassword()),await s({url:"/auth/login",method:"POST",data:e})},register:async t=>{const e=new FormData;return e.append("username",t.getUsername()),e.append("password",t.getPassword()),await s({url:"/auth/login",method:"POST",data:e})}}};export{f as default};
