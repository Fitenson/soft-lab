import{a as r,j as e,e as ke,H as Ae,r as ft}from"./main-B9Ndsrky.js";import{V as mt,c as Oe,A as ht}from"./app-layout-MtCAk6j2.js";import{c as xt,u as $,a as Ve,b as vt,d as De,R as gt,e as Re,A as St,f as N,P as wt,g as yt,h as Ct,i as bt,j as It,F as Tt,D as jt,C as Nt,k as Pt}from"./index-BzgOoebW.js";import{c as _t,C as Et,T as Rt}from"./top-action-bar-CRSAmnJH.js";import{u as k,c as Mt}from"./button-Cf0Jsvim.js";import{P as R}from"./index-ZqHNnxJ4.js";import{b as At}from"./breadcrumb-items-ChGxhpJx.js";import Ot from"./user-layout-Dl5Qlt0c.js";import{u as Dt,F as Lt,a as ne,b as re,c as se,d as ae,e as de}from"./use-show-toast-ClZ2XGn4.js";import{I as Te}from"./input-eASiwgaX.js";import{a as Q}from"./utils-_LUnSz7l.js";import{u as kt}from"./useAppSelector-BYgZwV9b.js";import{c as Be}from"./createLucideIcon-CKcm9yxt.js";import Vt from"./useUserService-cuWj7rC8.js";import Bt from"./useUserForm-BJV8gsEu.js";import{U as M}from"./UserFormField-B7tFWLy5.js";import"./zod-DCXdqgix.js";import"./schemas-FPmG6iBe.js";import"./serviceHandler-BlQljMi1.js";import"./useUserRepository-l2o_ZMbn.js";import"./useRequest-BYcXbwjB.js";import"./BaseEntity-DGhPHkWu.js";import"./UserViewModel-CyUmostW.js";import"./userSchema-q-HZegb3.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],He=Be("chevron-down",Ht);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ut=Be("chevron-up",Ft);function zt(o){const n=r.useRef({value:o,previous:o});return r.useMemo(()=>(n.current.value!==o&&(n.current.previous=n.current.value,n.current.value=o),n.current.previous),[o])}var Wt=[" ","Enter","ArrowUp","ArrowDown"],Kt=[" ","Enter"],ee="Select",[xe,ve,Gt]=_t(ee),[le,en]=xt(ee,[Gt,Ve]),ge=Ve(),[$t,Y]=le(ee),[Yt,qt]=le(ee),Fe=o=>{const{__scopeSelect:n,children:t,open:s,defaultOpen:i,onOpenChange:d,value:a,defaultValue:l,onValueChange:c,dir:p,name:v,autoComplete:m,disabled:I,required:S,form:b}=o,u=ge(n),[x,w]=r.useState(null),[h,g]=r.useState(null),[z,A]=r.useState(!1),ie=vt(p),[P,D]=De({prop:s,defaultProp:i??!1,onChange:d,caller:ee}),[W,X]=De({prop:a,defaultProp:l,onChange:c,caller:ee}),V=r.useRef(null),B=x?b||!!x.closest("form"):!0,[K,H]=r.useState(new Set),F=Array.from(K).map(_=>_.props.value).join(";");return e.jsx(gt,{...u,children:e.jsxs($t,{required:S,scope:n,trigger:x,onTriggerChange:w,valueNode:h,onValueNodeChange:g,valueNodeHasChildren:z,onValueNodeHasChildrenChange:A,contentId:Re(),value:W,onValueChange:X,open:P,onOpenChange:D,dir:ie,triggerPointerDownPosRef:V,disabled:I,children:[e.jsx(xe.Provider,{scope:n,children:e.jsx(Yt,{scope:o.__scopeSelect,onNativeOptionAdd:r.useCallback(_=>{H(L=>new Set(L).add(_))},[]),onNativeOptionRemove:r.useCallback(_=>{H(L=>{const U=new Set(L);return U.delete(_),U})},[]),children:t})}),B?e.jsxs(ct,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:m,value:W,onChange:_=>X(_.target.value),disabled:I,form:b,children:[W===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},F):null]})})};Fe.displayName=ee;var Ue="SelectTrigger",ze=r.forwardRef((o,n)=>{const{__scopeSelect:t,disabled:s=!1,...i}=o,d=ge(t),a=Y(Ue,t),l=a.disabled||s,c=k(n,a.onTriggerChange),p=ve(t),v=r.useRef("touch"),[m,I,S]=ut(u=>{const x=p().filter(g=>!g.disabled),w=x.find(g=>g.value===a.value),h=pt(x,u,w);h!==void 0&&a.onValueChange(h.value)}),b=u=>{l||(a.onOpenChange(!0),S()),u&&(a.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(St,{asChild:!0,...d,children:e.jsx(R.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dt(a.value)?"":void 0,...i,ref:c,onClick:N(i.onClick,u=>{u.currentTarget.focus(),v.current!=="mouse"&&b(u)}),onPointerDown:N(i.onPointerDown,u=>{v.current=u.pointerType;const x=u.target;x.hasPointerCapture(u.pointerId)&&x.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(b(u),u.preventDefault())}),onKeyDown:N(i.onKeyDown,u=>{const x=m.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&I(u.key),!(x&&u.key===" ")&&Wt.includes(u.key)&&(b(),u.preventDefault())})})})});ze.displayName=Ue;var We="SelectValue",Ke=r.forwardRef((o,n)=>{const{__scopeSelect:t,className:s,style:i,children:d,placeholder:a="",...l}=o,c=Y(We,t),{onValueNodeHasChildrenChange:p}=c,v=d!==void 0,m=k(n,c.onValueNodeChange);return $(()=>{p(v)},[p,v]),e.jsx(R.span,{...l,ref:m,style:{pointerEvents:"none"},children:dt(c.value)?e.jsx(e.Fragment,{children:a}):d})});Ke.displayName=We;var Xt="SelectIcon",Ge=r.forwardRef((o,n)=>{const{__scopeSelect:t,children:s,...i}=o;return e.jsx(R.span,{"aria-hidden":!0,...i,ref:n,children:s||"â–¼"})});Ge.displayName=Xt;var Zt="SelectPortal",$e=o=>e.jsx(wt,{asChild:!0,...o});$e.displayName=Zt;var te="SelectContent",Ye=r.forwardRef((o,n)=>{const t=Y(te,o.__scopeSelect),[s,i]=r.useState();if($(()=>{i(new DocumentFragment)},[]),!t.open){const d=s;return d?ke.createPortal(e.jsx(qe,{scope:o.__scopeSelect,children:e.jsx(xe.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),d):null}return e.jsx(Xe,{...o,ref:n})});Ye.displayName=te;var O=10,[qe,q]=le(te),Jt="SelectContentImpl",Qt=Mt("SelectContent.RemoveScroll"),Xe=r.forwardRef((o,n)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:d,onPointerDownOutside:a,side:l,sideOffset:c,align:p,alignOffset:v,arrowPadding:m,collisionBoundary:I,collisionPadding:S,sticky:b,hideWhenDetached:u,avoidCollisions:x,...w}=o,h=Y(te,t),[g,z]=r.useState(null),[A,ie]=r.useState(null),P=k(n,f=>z(f)),[D,W]=r.useState(null),[X,V]=r.useState(null),B=ve(t),[K,H]=r.useState(!1),F=r.useRef(!1);r.useEffect(()=>{if(g)return Ct(g)},[g]),bt();const _=r.useCallback(f=>{const[T,...E]=B().map(j=>j.ref.current),[y]=E.slice(-1),C=document.activeElement;for(const j of f)if(j===C||(j?.scrollIntoView({block:"nearest"}),j===T&&A&&(A.scrollTop=0),j===y&&A&&(A.scrollTop=A.scrollHeight),j?.focus(),document.activeElement!==C))return},[B,A]),L=r.useCallback(()=>_([D,g]),[_,D,g]);r.useEffect(()=>{K&&L()},[K,L]);const{onOpenChange:U,triggerPointerDownPosRef:G}=h;r.useEffect(()=>{if(g){let f={x:0,y:0};const T=y=>{f={x:Math.abs(Math.round(y.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(y.pageY)-(G.current?.y??0))}},E=y=>{f.x<=10&&f.y<=10?y.preventDefault():g.contains(y.target)||U(!1),document.removeEventListener("pointermove",T),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",E,{capture:!0})}}},[g,U,G]),r.useEffect(()=>{const f=()=>U(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[U]);const[Se,pe]=ut(f=>{const T=B().filter(C=>!C.disabled),E=T.find(C=>C.ref.current===document.activeElement),y=pt(T,f,E);y&&setTimeout(()=>y.ref.current.focus())}),we=r.useCallback((f,T,E)=>{const y=!F.current&&!E;(h.value!==void 0&&h.value===T||y)&&(W(f),y&&(F.current=!0))},[h.value]),ye=r.useCallback(()=>g?.focus(),[g]),oe=r.useCallback((f,T,E)=>{const y=!F.current&&!E;(h.value!==void 0&&h.value===T||y)&&V(f)},[h.value]),fe=s==="popper"?je:Ze,ce=fe===je?{side:l,sideOffset:c,align:p,alignOffset:v,arrowPadding:m,collisionBoundary:I,collisionPadding:S,sticky:b,hideWhenDetached:u,avoidCollisions:x}:{};return e.jsx(qe,{scope:t,content:g,viewport:A,onViewportChange:ie,itemRefCallback:we,selectedItem:D,onItemLeave:ye,itemTextRefCallback:oe,focusSelectedItem:L,selectedItemText:X,position:s,isPositioned:K,searchRef:Se,children:e.jsx(It,{as:Qt,allowPinchZoom:!0,children:e.jsx(Tt,{asChild:!0,trapped:h.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:N(i,f=>{h.trigger?.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(jt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:e.jsx(fe,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:f=>f.preventDefault(),...w,...ce,onPlaced:()=>H(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:N(w.onKeyDown,f=>{const T=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!T&&f.key.length===1&&pe(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let y=B().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(f.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const C=f.target,j=y.indexOf(C);y=y.slice(j+1)}setTimeout(()=>_(y)),f.preventDefault()}})})})})})})});Xe.displayName=Jt;var eo="SelectItemAlignedPosition",Ze=r.forwardRef((o,n)=>{const{__scopeSelect:t,onPlaced:s,...i}=o,d=Y(te,t),a=q(te,t),[l,c]=r.useState(null),[p,v]=r.useState(null),m=k(n,P=>v(P)),I=ve(t),S=r.useRef(!1),b=r.useRef(!0),{viewport:u,selectedItem:x,selectedItemText:w,focusSelectedItem:h}=a,g=r.useCallback(()=>{if(d.trigger&&d.valueNode&&l&&p&&u&&x&&w){const P=d.trigger.getBoundingClientRect(),D=p.getBoundingClientRect(),W=d.valueNode.getBoundingClientRect(),X=w.getBoundingClientRect();if(d.dir!=="rtl"){const C=X.left-D.left,j=W.left-C,Z=P.left-j,J=P.width+Z,Ce=Math.max(J,D.width),be=window.innerWidth-O,Ie=Oe(j,[O,Math.max(O,be-Ce)]);l.style.minWidth=J+"px",l.style.left=Ie+"px"}else{const C=D.right-X.right,j=window.innerWidth-W.right-C,Z=window.innerWidth-P.right-j,J=P.width+Z,Ce=Math.max(J,D.width),be=window.innerWidth-O,Ie=Oe(j,[O,Math.max(O,be-Ce)]);l.style.minWidth=J+"px",l.style.right=Ie+"px"}const V=I(),B=window.innerHeight-O*2,K=u.scrollHeight,H=window.getComputedStyle(p),F=parseInt(H.borderTopWidth,10),_=parseInt(H.paddingTop,10),L=parseInt(H.borderBottomWidth,10),U=parseInt(H.paddingBottom,10),G=F+_+K+U+L,Se=Math.min(x.offsetHeight*5,G),pe=window.getComputedStyle(u),we=parseInt(pe.paddingTop,10),ye=parseInt(pe.paddingBottom,10),oe=P.top+P.height/2-O,fe=B-oe,ce=x.offsetHeight/2,f=x.offsetTop+ce,T=F+_+f,E=G-T;if(T<=oe){const C=V.length>0&&x===V[V.length-1].ref.current;l.style.bottom="0px";const j=p.clientHeight-u.offsetTop-u.offsetHeight,Z=Math.max(fe,ce+(C?ye:0)+j+L),J=T+Z;l.style.height=J+"px"}else{const C=V.length>0&&x===V[0].ref.current;l.style.top="0px";const Z=Math.max(oe,F+u.offsetTop+(C?we:0)+ce)+E;l.style.height=Z+"px",u.scrollTop=T-oe+u.offsetTop}l.style.margin=`${O}px 0`,l.style.minHeight=Se+"px",l.style.maxHeight=B+"px",s?.(),requestAnimationFrame(()=>S.current=!0)}},[I,d.trigger,d.valueNode,l,p,u,x,w,d.dir,s]);$(()=>g(),[g]);const[z,A]=r.useState();$(()=>{p&&A(window.getComputedStyle(p).zIndex)},[p]);const ie=r.useCallback(P=>{P&&b.current===!0&&(g(),h?.(),b.current=!1)},[g,h]);return e.jsx(oo,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:S,onScrollButtonChange:ie,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:e.jsx(R.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Ze.displayName=eo;var to="SelectPopperPosition",je=r.forwardRef((o,n)=>{const{__scopeSelect:t,align:s="start",collisionPadding:i=O,...d}=o,a=ge(t);return e.jsx(Nt,{...a,...d,ref:n,align:s,collisionPadding:i,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});je.displayName=to;var[oo,Me]=le(te,{}),Ne="SelectViewport",Je=r.forwardRef((o,n)=>{const{__scopeSelect:t,nonce:s,...i}=o,d=q(Ne,t),a=Me(Ne,t),l=k(n,d.onViewportChange),c=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(xe.Slot,{scope:t,children:e.jsx(R.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:N(i.onScroll,p=>{const v=p.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:I}=a;if(I?.current&&m){const S=Math.abs(c.current-v.scrollTop);if(S>0){const b=window.innerHeight-O*2,u=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),w=Math.max(u,x);if(w<b){const h=w+S,g=Math.min(b,h),z=h-g;m.style.height=g+"px",m.style.bottom==="0px"&&(v.scrollTop=z>0?z:0,m.style.justifyContent="flex-end")}}}c.current=v.scrollTop})})})]})});Je.displayName=Ne;var Qe="SelectGroup",[no,ro]=le(Qe),so=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o,i=Re();return e.jsx(no,{scope:t,id:i,children:e.jsx(R.div,{role:"group","aria-labelledby":i,...s,ref:n})})});so.displayName=Qe;var et="SelectLabel",ao=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o,i=ro(et,t);return e.jsx(R.div,{id:i.id,...s,ref:n})});ao.displayName=et;var he="SelectItem",[lo,tt]=le(he),ot=r.forwardRef((o,n)=>{const{__scopeSelect:t,value:s,disabled:i=!1,textValue:d,...a}=o,l=Y(he,t),c=q(he,t),p=l.value===s,[v,m]=r.useState(d??""),[I,S]=r.useState(!1),b=k(n,h=>c.itemRefCallback?.(h,s,i)),u=Re(),x=r.useRef("touch"),w=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(lo,{scope:t,value:s,disabled:i,textId:u,isSelected:p,onItemTextChange:r.useCallback(h=>{m(g=>g||(h?.textContent??"").trim())},[]),children:e.jsx(xe.ItemSlot,{scope:t,value:s,disabled:i,textValue:v,children:e.jsx(R.div,{role:"option","aria-labelledby":u,"data-highlighted":I?"":void 0,"aria-selected":p&&I,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:b,onFocus:N(a.onFocus,()=>S(!0)),onBlur:N(a.onBlur,()=>S(!1)),onClick:N(a.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:N(a.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:N(a.onPointerDown,h=>{x.current=h.pointerType}),onPointerMove:N(a.onPointerMove,h=>{x.current=h.pointerType,i?c.onItemLeave?.():x.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(a.onPointerLeave,h=>{h.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:N(a.onKeyDown,h=>{c.searchRef?.current!==""&&h.key===" "||(Kt.includes(h.key)&&w(),h.key===" "&&h.preventDefault())})})})})});ot.displayName=he;var ue="SelectItemText",nt=r.forwardRef((o,n)=>{const{__scopeSelect:t,className:s,style:i,...d}=o,a=Y(ue,t),l=q(ue,t),c=tt(ue,t),p=qt(ue,t),[v,m]=r.useState(null),I=k(n,w=>m(w),c.onItemTextChange,w=>l.itemTextRefCallback?.(w,c.value,c.disabled)),S=v?.textContent,b=r.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:S},c.value),[c.disabled,c.value,S]),{onNativeOptionAdd:u,onNativeOptionRemove:x}=p;return $(()=>(u(b),()=>x(b)),[u,x,b]),e.jsxs(e.Fragment,{children:[e.jsx(R.span,{id:c.textId,...d,ref:I}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ke.createPortal(d.children,a.valueNode):null]})});nt.displayName=ue;var rt="SelectItemIndicator",st=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o;return tt(rt,t).isSelected?e.jsx(R.span,{"aria-hidden":!0,...s,ref:n}):null});st.displayName=rt;var Pe="SelectScrollUpButton",at=r.forwardRef((o,n)=>{const t=q(Pe,o.__scopeSelect),s=Me(Pe,o.__scopeSelect),[i,d]=r.useState(!1),a=k(n,s.onScrollButtonChange);return $(()=>{if(t.viewport&&t.isPositioned){let l=function(){const p=c.scrollTop>0;d(p)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),i?e.jsx(it,{...o,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});at.displayName=Pe;var _e="SelectScrollDownButton",lt=r.forwardRef((o,n)=>{const t=q(_e,o.__scopeSelect),s=Me(_e,o.__scopeSelect),[i,d]=r.useState(!1),a=k(n,s.onScrollButtonChange);return $(()=>{if(t.viewport&&t.isPositioned){let l=function(){const p=c.scrollHeight-c.clientHeight,v=Math.ceil(c.scrollTop)<p;d(v)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),i?e.jsx(it,{...o,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lt.displayName=_e;var it=r.forwardRef((o,n)=>{const{__scopeSelect:t,onAutoScroll:s,...i}=o,d=q("SelectScrollButton",t),a=r.useRef(null),l=ve(t),c=r.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return r.useEffect(()=>()=>c(),[c]),$(()=>{l().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(R.div,{"aria-hidden":!0,...i,ref:n,style:{flexShrink:0,...i.style},onPointerDown:N(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:N(i.onPointerMove,()=>{d.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:N(i.onPointerLeave,()=>{c()})})}),io="SelectSeparator",co=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o;return e.jsx(R.div,{"aria-hidden":!0,...s,ref:n})});co.displayName=io;var Ee="SelectArrow",uo=r.forwardRef((o,n)=>{const{__scopeSelect:t,...s}=o,i=ge(t),d=Y(Ee,t),a=q(Ee,t);return d.open&&a.position==="popper"?e.jsx(Pt,{...i,...s,ref:n}):null});uo.displayName=Ee;var po="SelectBubbleInput",ct=r.forwardRef(({__scopeSelect:o,value:n,...t},s)=>{const i=r.useRef(null),d=k(s,i),a=zt(n);return r.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&v){const m=new Event("change",{bubbles:!0});v.call(l,n),l.dispatchEvent(m)}},[a,n]),e.jsx(R.select,{...t,style:{...mt,...t.style},ref:d,defaultValue:n})});ct.displayName=po;function dt(o){return o===""||o===void 0}function ut(o){const n=yt(o),t=r.useRef(""),s=r.useRef(0),i=r.useCallback(a=>{const l=t.current+a;n(l),(function c(p){t.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(l)},[n]),d=r.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,i,d]}function pt(o,n,t){const i=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,d=t?o.indexOf(t):-1;let a=fo(o,Math.max(d,0));i.length===1&&(a=a.filter(p=>p!==t));const c=a.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function fo(o,n){return o.map((t,s)=>o[(n+s)%o.length])}var mo=Fe,ho=ze,xo=Ge,vo=$e,go=Ye,So=Je,wo=ot,yo=nt,Co=st,bo=at,Io=lt;function Le({className:o,...n}){return e.jsx("textarea",{"data-slot":"textarea",className:Q("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),...n})}function To({...o}){return e.jsx(mo,{"data-slot":"select",...o})}function jo({className:o,size:n="default",children:t,...s}){return e.jsxs(ho,{"data-slot":"select-trigger","data-size":n,className:Q("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),...s,children:[t,e.jsx(xo,{asChild:!0,children:e.jsx(He,{className:"size-4 opacity-50"})})]})}function No({className:o,children:n,position:t="popper",...s}){return e.jsx(vo,{children:e.jsxs(go,{"data-slot":"select-content",className:Q("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...s,children:[e.jsx(Po,{}),e.jsx(So,{className:Q("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(_o,{})]})})}function me({className:o,children:n,...t}){return e.jsxs(wo,{"data-slot":"select-item",className:Q("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Co,{children:e.jsx(Et,{className:"size-4"})})}),e.jsx(yo,{children:n})]})}function Po({className:o,...n}){return e.jsx(bo,{"data-slot":"select-scroll-up-button",className:Q("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(Ut,{className:"size-4"})})}function _o({className:o,...n}){return e.jsx(Io,{"data-slot":"select-scroll-down-button",className:Q("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(He,{className:"size-4"})})}function tn({user:o}){const n=kt(m=>m.loading.global),t=Dt(),{form:s,setFormError:i,userViewModel:d,setUserViewModel:a}=Bt({userDTO:o}),{create:l,update:c}=Vt(),p=[...At,{title:d?.username||"Create",href:"/"}],v=async()=>{const I={...s.getValues()};try{if(d?.UUID){const S=await c(I);a(S),t("Success","Update user successfully","success")}else{const S=await l(I);a(S),t("Success","Create user successfully","success"),ft.visit(`/user/${d?.UUID}`)}}catch(S){i(S),t("Error","Error on create","error")}};return e.jsxs(ht,{breadcrumbs:p,children:[e.jsx(Ae,{title:"User"}),e.jsx(Ae,{title:d?.fullName??"Create"}),e.jsx(Ot,{children:e.jsx(Lt,{...s,children:e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full items-start",onSubmit:s.handleSubmit(v),children:[e.jsx(Rt,{saveAction:{},browseAction:{to:"/user"},deleteAction:{action:()=>{}}}),e.jsx(ne,{control:s.control,name:M.username.name,render:({field:m})=>e.jsxs(re,{children:[e.jsx(se,{children:M.username.label}),e.jsx(ae,{children:e.jsx(Te,{...m,disabled:n})}),e.jsx(de,{})]})}),e.jsx(ne,{control:s.control,name:M.fullName.name,render:({field:m})=>e.jsxs(re,{children:[e.jsx(se,{children:M.fullName.label}),e.jsx(ae,{children:e.jsx(Te,{...m,disabled:n})}),e.jsx(de,{})]})}),e.jsx(ne,{control:s.control,name:M.email.name,render:({field:m})=>e.jsxs(re,{children:[e.jsx(se,{children:M.email.label}),e.jsx(ae,{children:e.jsx(Te,{...m,disabled:n})}),e.jsx(de,{})]})}),e.jsx(ne,{control:s.control,name:M.gender.name,render:({field:m})=>e.jsxs(re,{children:[e.jsx(se,{children:M.gender.label}),e.jsx(ae,{children:e.jsxs(To,{onValueChange:m.onChange,defaultValue:m.value??"",children:[e.jsx(jo,{children:e.jsx(Ke,{placeholder:"Gender"})}),e.jsxs(No,{children:[e.jsx(me,{value:"Male",children:"Male"}),e.jsx(me,{value:"Female",children:"Female"}),e.jsx(me,{value:"Others",children:"Others"}),e.jsx(me,{value:"Rather not say",children:"Rather not say"})]})]})}),e.jsx(de,{})]})}),e.jsxs("div",{className:"flex flex-row col-span-full w-full gap-6 items-start",children:[e.jsx(ne,{control:s.control,name:M.description.name,render:({field:m})=>e.jsxs(re,{className:"flex-1",children:[e.jsx(se,{children:M.description.label}),e.jsx(ae,{children:e.jsx(Le,{...m,value:m.value??"",disabled:n,rows:4,style:{resize:"vertical",overflowY:"auto",maxHeight:"4rem"}})})]})}),e.jsx(ne,{control:s.control,name:M.address.name,render:({field:m})=>e.jsxs(re,{className:"flex-1",children:[e.jsx(se,{children:M.address.label}),e.jsx(ae,{children:e.jsx(Le,{...m,value:m.value??"",disabled:n,rows:4,style:{resize:"vertical",overflowY:"auto",maxHeight:"4rem"}})}),e.jsx(de,{})]})})]})]})})})]})}export{tn as default};
