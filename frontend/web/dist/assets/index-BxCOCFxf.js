import{w as Ve,b as o,x as le,y as de,j as a,z as Ye,A as Xe,P as V,B as He,D as O,E as v,F as k,G as We,I as ze,J as Je,K as Ze,L as $e,M as qe}from"./main-D2F9KyVn.js";import{c as Qe,a as fe,u as et,I as tt,R as nt}from"./index-Ct5U2_LI.js";import{h as ot,u as rt,R as st,F as ct}from"./index-BL6WQeaZ.js";var Z=["Enter"," "],at=["ArrowDown","PageUp","Home"],pe=["ArrowUp","PageDown","End"],ut=[...at,...pe],it={ltr:[...Z,"ArrowRight"],rtl:[...Z,"ArrowLeft"]},lt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},N="Menu",[j,dt,ft]=Qe(N),[R,Lt]=Ve(N,[ft,le,fe]),Y=le(),me=fe(),[pt,P]=R(N),[mt,F]=R(N),Me=e=>{const{__scopeMenu:n,open:t=!1,children:r,dir:u,onOpenChange:s,modal:d=!0}=e,m=Y(n),[h,p]=o.useState(null),l=o.useRef(!1),c=de(s),f=et(u);return o.useEffect(()=>{const x=()=>{l.current=!0,document.addEventListener("pointerdown",M,{capture:!0,once:!0}),document.addEventListener("pointermove",M,{capture:!0,once:!0})},M=()=>l.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",M,{capture:!0}),document.removeEventListener("pointermove",M,{capture:!0})}},[]),a.jsx(Ye,{...m,children:a.jsx(pt,{scope:n,open:t,onOpenChange:c,content:h,onContentChange:p,children:a.jsx(mt,{scope:n,onClose:o.useCallback(()=>c(!1),[c]),isUsingKeyboardRef:l,dir:f,modal:d,children:r})})})};Me.displayName=N;var Mt="MenuAnchor",$=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,u=Y(t);return a.jsx(Xe,{...u,...r,ref:n})});$.displayName=Mt;var q="MenuPortal",[vt,ve]=R(q,{forceMount:void 0}),he=e=>{const{__scopeMenu:n,forceMount:t,children:r,container:u}=e,s=P(q,n);return a.jsx(vt,{scope:n,forceMount:t,children:a.jsx(V,{present:t||s.open,children:a.jsx(He,{asChild:!0,container:u,children:r})})})};he.displayName=q;var g="MenuContent",[ht,Q]=R(g),Ce=o.forwardRef((e,n)=>{const t=ve(g,e.__scopeMenu),{forceMount:r=t.forceMount,...u}=e,s=P(g,e.__scopeMenu),d=F(g,e.__scopeMenu);return a.jsx(j.Provider,{scope:e.__scopeMenu,children:a.jsx(V,{present:r||s.open,children:a.jsx(j.Slot,{scope:e.__scopeMenu,children:d.modal?a.jsx(Ct,{...u,ref:n}):a.jsx(xt,{...u,ref:n})})})})}),Ct=o.forwardRef((e,n)=>{const t=P(g,e.__scopeMenu),r=o.useRef(null),u=O(n,r);return o.useEffect(()=>{const s=r.current;if(s)return ot(s)},[]),a.jsx(ee,{...e,ref:u,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:v(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),xt=o.forwardRef((e,n)=>{const t=P(g,e.__scopeMenu);return a.jsx(ee,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),gt=ze("MenuContent.ScrollLock"),ee=o.forwardRef((e,n)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:u,onOpenAutoFocus:s,onCloseAutoFocus:d,disableOutsidePointerEvents:m,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,onDismiss:x,disableOutsideScroll:M,...E}=e,y=P(g,t),S=F(g,t),ke=Y(t),Ne=me(t),re=dt(t),[Fe,se]=o.useState(null),L=o.useRef(null),Le=O(n,L,y.onContentChange),K=o.useRef(0),G=o.useRef(""),Ke=o.useRef(0),H=o.useRef(null),ce=o.useRef("right"),W=o.useRef(0),Ge=M?st:o.Fragment,Ue=M?{as:gt,allowPinchZoom:!0}:void 0,Be=i=>{const I=G.current+i,_=re().filter(C=>!C.disabled),b=document.activeElement,z=_.find(C=>C.ref.current===b)?.textValue,J=_.map(C=>C.textValue),ae=jt(J,I,z),T=_.find(C=>C.textValue===ae)?.ref.current;(function C(ue){G.current=ue,window.clearTimeout(K.current),ue!==""&&(K.current=window.setTimeout(()=>C(""),1e3))})(I),T&&setTimeout(()=>T.focus())};o.useEffect(()=>()=>window.clearTimeout(K.current),[]),rt();const w=o.useCallback(i=>ce.current===H.current?.side&&Ot(i,H.current?.area),[]);return a.jsx(ht,{scope:t,searchRef:G,onItemEnter:o.useCallback(i=>{w(i)&&i.preventDefault()},[w]),onItemLeave:o.useCallback(i=>{w(i)||(L.current?.focus(),se(null))},[w]),onTriggerLeave:o.useCallback(i=>{w(i)&&i.preventDefault()},[w]),pointerGraceTimerRef:Ke,onPointerGraceIntentChange:o.useCallback(i=>{H.current=i},[]),children:a.jsx(Ge,{...Ue,children:a.jsx(ct,{asChild:!0,trapped:u,onMountAutoFocus:v(s,i=>{i.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:a.jsx(Je,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,onDismiss:x,children:a.jsx(nt,{asChild:!0,...Ne,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:Fe,onCurrentTabStopIdChange:se,onEntryFocus:v(h,i=>{S.isUsingKeyboardRef.current||i.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Ze,{role:"menu","aria-orientation":"vertical","data-state":Oe(y.open),"data-radix-menu-content":"",dir:S.dir,...ke,...E,ref:Le,style:{outline:"none",...E.style},onKeyDown:v(E.onKeyDown,i=>{const _=i.target.closest("[data-radix-menu-content]")===i.currentTarget,b=i.ctrlKey||i.altKey||i.metaKey,z=i.key.length===1;_&&(i.key==="Tab"&&i.preventDefault(),!b&&z&&Be(i.key));const J=L.current;if(i.target!==J||!ut.includes(i.key))return;i.preventDefault();const T=re().filter(C=>!C.disabled).map(C=>C.ref.current);pe.includes(i.key)&&T.reverse(),Tt(T)}),onBlur:v(e.onBlur,i=>{i.currentTarget.contains(i.target)||(window.clearTimeout(K.current),G.current="")}),onPointerMove:v(e.onPointerMove,D(i=>{const I=i.target,_=W.current!==i.clientX;if(i.currentTarget.contains(I)&&_){const b=i.clientX>W.current?"right":"left";ce.current=b,W.current=i.clientX}}))})})})})})})});Ce.displayName=g;var _t="MenuGroup",te=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{role:"group",...r,ref:n})});te.displayName=_t;var Rt="MenuLabel",xe=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{...r,ref:n})});xe.displayName=Rt;var U="MenuItem",ie="menu.itemSelect",X=o.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:r,...u}=e,s=o.useRef(null),d=F(U,e.__scopeMenu),m=Q(U,e.__scopeMenu),h=O(n,s),p=o.useRef(!1),l=()=>{const c=s.current;if(!t&&c){const f=new CustomEvent(ie,{bubbles:!0,cancelable:!0});c.addEventListener(ie,x=>r?.(x),{once:!0}),We(c,f),f.defaultPrevented?p.current=!1:d.onClose()}};return a.jsx(ge,{...u,ref:h,disabled:t,onClick:v(e.onClick,l),onPointerDown:c=>{e.onPointerDown?.(c),p.current=!0},onPointerUp:v(e.onPointerUp,c=>{p.current||c.currentTarget?.click()}),onKeyDown:v(e.onKeyDown,c=>{const f=m.searchRef.current!=="";t||f&&c.key===" "||Z.includes(c.key)&&(c.currentTarget.click(),c.preventDefault())})})});X.displayName=U;var ge=o.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:r=!1,textValue:u,...s}=e,d=Q(U,t),m=me(t),h=o.useRef(null),p=O(n,h),[l,c]=o.useState(!1),[f,x]=o.useState("");return o.useEffect(()=>{const M=h.current;M&&x((M.textContent??"").trim())},[s.children]),a.jsx(j.ItemSlot,{scope:t,disabled:r,textValue:u??f,children:a.jsx(tt,{asChild:!0,...m,focusable:!r,children:a.jsx(k.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:p,onPointerMove:v(e.onPointerMove,D(M=>{r?d.onItemLeave(M):(d.onItemEnter(M),M.defaultPrevented||M.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:v(e.onPointerLeave,D(M=>d.onItemLeave(M))),onFocus:v(e.onFocus,()=>c(!0)),onBlur:v(e.onBlur,()=>c(!1))})})})}),Pt="MenuCheckboxItem",_e=o.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:r,...u}=e;return a.jsx(we,{scope:e.__scopeMenu,checked:t,children:a.jsx(X,{role:"menuitemcheckbox","aria-checked":B(t)?"mixed":t,...u,ref:n,"data-state":oe(t),onSelect:v(u.onSelect,()=>r?.(B(t)?!0:!t),{checkForDefaultPrevented:!1})})})});_e.displayName=Pt;var Re="MenuRadioGroup",[Et,St]=R(Re,{value:void 0,onValueChange:()=>{}}),Pe=o.forwardRef((e,n)=>{const{value:t,onValueChange:r,...u}=e,s=de(r);return a.jsx(Et,{scope:e.__scopeMenu,value:t,onValueChange:s,children:a.jsx(te,{...u,ref:n})})});Pe.displayName=Re;var Ee="MenuRadioItem",Se=o.forwardRef((e,n)=>{const{value:t,...r}=e,u=St(Ee,e.__scopeMenu),s=t===u.value;return a.jsx(we,{scope:e.__scopeMenu,checked:s,children:a.jsx(X,{role:"menuitemradio","aria-checked":s,...r,ref:n,"data-state":oe(s),onSelect:v(r.onSelect,()=>u.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});Se.displayName=Ee;var ne="MenuItemIndicator",[we,wt]=R(ne,{checked:!1}),Ie=o.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:r,...u}=e,s=wt(ne,t);return a.jsx(V,{present:r||B(s.checked)||s.checked===!0,children:a.jsx(k.span,{...u,ref:n,"data-state":oe(s.checked)})})});Ie.displayName=ne;var It="MenuSeparator",ye=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});ye.displayName=It;var yt="MenuArrow",be=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,u=Y(t);return a.jsx($e,{...u,...r,ref:n})});be.displayName=yt;var bt="MenuSub",[Kt,Te]=R(bt),A="MenuSubTrigger",Ae=o.forwardRef((e,n)=>{const t=P(A,e.__scopeMenu),r=F(A,e.__scopeMenu),u=Te(A,e.__scopeMenu),s=Q(A,e.__scopeMenu),d=o.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:h}=s,p={__scopeMenu:e.__scopeMenu},l=o.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return o.useEffect(()=>l,[l]),o.useEffect(()=>{const c=m.current;return()=>{window.clearTimeout(c),h(null)}},[m,h]),a.jsx($,{asChild:!0,...p,children:a.jsx(ge,{id:u.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":u.contentId,"data-state":Oe(t.open),...e,ref:qe(n,u.onTriggerChange),onClick:c=>{e.onClick?.(c),!(e.disabled||c.defaultPrevented)&&(c.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:v(e.onPointerMove,D(c=>{s.onItemEnter(c),!c.defaultPrevented&&!e.disabled&&!t.open&&!d.current&&(s.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{t.onOpenChange(!0),l()},100))})),onPointerLeave:v(e.onPointerLeave,D(c=>{l();const f=t.content?.getBoundingClientRect();if(f){const x=t.content?.dataset.side,M=x==="right",E=M?-5:5,y=f[M?"left":"right"],S=f[M?"right":"left"];s.onPointerGraceIntentChange({area:[{x:c.clientX+E,y:c.clientY},{x:y,y:f.top},{x:S,y:f.top},{x:S,y:f.bottom},{x:y,y:f.bottom}],side:x}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(c),c.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:v(e.onKeyDown,c=>{const f=s.searchRef.current!=="";e.disabled||f&&c.key===" "||it[r.dir].includes(c.key)&&(t.onOpenChange(!0),t.content?.focus(),c.preventDefault())})})})});Ae.displayName=A;var je="MenuSubContent",De=o.forwardRef((e,n)=>{const t=ve(g,e.__scopeMenu),{forceMount:r=t.forceMount,...u}=e,s=P(g,e.__scopeMenu),d=F(g,e.__scopeMenu),m=Te(je,e.__scopeMenu),h=o.useRef(null),p=O(n,h);return a.jsx(j.Provider,{scope:e.__scopeMenu,children:a.jsx(V,{present:r||s.open,children:a.jsx(j.Slot,{scope:e.__scopeMenu,children:a.jsx(ee,{id:m.contentId,"aria-labelledby":m.triggerId,...u,ref:p,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{d.isUsingKeyboardRef.current&&h.current?.focus(),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:v(e.onFocusOutside,l=>{l.target!==m.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:v(e.onEscapeKeyDown,l=>{d.onClose(),l.preventDefault()}),onKeyDown:v(e.onKeyDown,l=>{const c=l.currentTarget.contains(l.target),f=lt[d.dir].includes(l.key);c&&f&&(s.onOpenChange(!1),m.trigger?.focus(),l.preventDefault())})})})})})});De.displayName=je;function Oe(e){return e?"open":"closed"}function B(e){return e==="indeterminate"}function oe(e){return B(e)?"indeterminate":e?"checked":"unchecked"}function Tt(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function At(e,n){return e.map((t,r)=>e[(n+r)%e.length])}function jt(e,n,t){const u=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let d=At(e,Math.max(s,0));u.length===1&&(d=d.filter(p=>p!==t));const h=d.find(p=>p.toLowerCase().startsWith(u.toLowerCase()));return h!==t?h:void 0}function Dt(e,n){const{x:t,y:r}=e;let u=!1;for(let s=0,d=n.length-1;s<n.length;d=s++){const m=n[s],h=n[d],p=m.x,l=m.y,c=h.x,f=h.y;l>r!=f>r&&t<(c-p)*(r-l)/(f-l)+p&&(u=!u)}return u}function Ot(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Dt(t,n)}function D(e){return n=>n.pointerType==="mouse"?e(n):void 0}var Gt=Me,Ut=$,Bt=he,Vt=Ce,Yt=te,Xt=xe,Ht=X,Wt=_e,zt=Pe,Jt=Se,Zt=Ie,$t=ye,qt=be,Qt=Ae,en=De;export{Ut as A,Vt as C,Yt as G,Ht as I,Xt as L,Bt as P,Gt as R,$t as S,Wt as a,Zt as b,Lt as c,zt as d,Jt as e,qt as f,Qt as g,en as h};
