import{e as D,u as N,a as v,j as s,f as A,g as d,h as S,t as g,i as F,k as U}from"./main-BzcX9rHB.js";import{I}from"./input-0Fyeeb7S.js";import{F as C,a as w,b as E,c as k,d as y}from"./form-BckQJ346.js";import{T as O,a as B,b as m,c as n}from"./tabs-C-IMDi8F.js";import{u as L,A as f}from"./useApiTestForm-Clv1NT4G.js";import R from"./documentation-tab-BjKC-IO4.js";import V from"./data-tab-CocuEVon.js";import M from"./scenario-tab-v3OZmQBK.js";import{u as x}from"./useAppSelector-BEgmfvAz.js";import{B as P}from"./button-BM4q8FZR.js";import{s as q}from"./apiTestSelectors-BJyltacD.js";import{u as z}from"./useApiTestService-qkXGyo_6.js";import{s as G}from"./clientDatabaseSelectors-Cw1rL9yb.js";import{u as H}from"./use-show-toast-DtlL4OPY.js";import"./zod-DJiVD7ng.js";import"./schemas-D95ZC4Tg.js";import"./index-uZZPUVlh.js";import"./index-BdowffdP.js";import"./ApiTestViewModel-Cs077P_g.js";import"./ApiTestDataViewModel-DGSq7Ifc.js";import"./textarea-CWykQ6Xq.js";import"./select-DtQEwlk3.js";import"./index-p44enadJ.js";import"./index-CDvMsUPW.js";import"./createLucideIcon-CkMHkm6z.js";import"./check-Cyf1zOie.js";import"./api-test-data-table-B1c4H5LY.js";import"./index-DlCoahAH.js";import"./table-DrOT-jRa.js";import"./ColumnConfig-COplPqVL.js";import"./useRequest-DNSUaHl4.js";import"./useAuthState-CY6NsVbP.js";import"./BaseEntity-DGhPHkWu.js";import"./serviceHandler-BlQljMi1.js";import"./ClientDatabaseViewModel-CZz8IN5P.js";function Fs(){const{id:T}=D().props,t=x(q),c=x(G),{form:a}=L({apiTestDTO:t}),e=N(),{createApiTest:j}=z(),h=H();v.useEffect(()=>{a.setValue("testName",t?.testName??""),a.setValue("transmission",t?.transmission??"formData")},[t,a]);const b=async o=>{const r=c?.password,l=c?.UUID,p=[t?.UUID].filter(i=>i!==void 0);if(l&&r){const i={...o,project:T,clientDatabase:l};await j(i,r,{onSuccess:async u=>{e(d(p)),e(S(u)),e(g({action:null})),e(F({UUID:"",newName:""})),e(U(u))}})}else e(d(p)),h("Error","Missing database token","error")};return s.jsx("div",{className:"h-full w-full",children:s.jsx(C,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(b),children:[s.jsxs("div",{className:"flex items-end gap-2 m-2",children:[s.jsx(w,{name:f.testName.name,render:({field:o})=>s.jsxs(E,{className:"flex-1",children:[s.jsx(k,{children:f.testName.label}),s.jsx(y,{children:s.jsx(I,{...o,onChange:r=>{o.onChange(r),e(A(r.target.value))}})})]})}),s.jsx(P,{className:"p-2 px-6",children:"Save"})]}),s.jsxs(O,{className:"w-full m-2",defaultValue:"data",children:[s.jsxs(B,{className:"w-full flex justify-start",children:[s.jsx(m,{className:"cursor-pointer",value:"documentation",children:"Documentation"}),s.jsx(m,{className:"cursor-pointer",value:"data",children:"Data"}),s.jsx(m,{className:"cursor-pointer",value:"scenario",children:"Scenario"})]}),s.jsx(n,{value:"documentation",className:"m-2",children:s.jsx(R,{})}),s.jsx(n,{value:"data",className:"m-2",children:s.jsx(V,{})}),s.jsx(n,{value:"scenario",className:"m-2",children:s.jsx(M,{})})]})]})})})}export{Fs as default};
