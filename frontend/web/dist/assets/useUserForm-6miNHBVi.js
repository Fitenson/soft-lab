import{u as d,a as c}from"./zod-DRjOI9hQ.js";import{U as p}from"./UserViewModel-BWSeG2eZ.js";import{userSchema as u}from"./userSchema-Bccw0Nv9.js";import{a as f}from"./main-CsR0FSNB.js";import"./schemas-6m5s2bNq.js";import"./UserFormField-CQucg9cQ.js";const y=({userDTO:s})=>{const[e,i]=f.useState(()=>s?new p(s):void 0),o=d({resolver:c(u),defaultValues:{username:e?.username??"",fullName:e?.fullName??"",email:e?.email??"",role:e?.role??"",address:e?.address??void 0,description:e?.description??void 0,phoneNo:e?.phoneNo??void 0,title:e?.title??void 0,gender:e?.gender??void 0}});return{form:o,setFormError:(l,m)=>{const{setToastError:n}=m||{},r=l?.response?.data?.errors??{};typeof r=="string"?n?.(r):r&&Object.keys(r).length>0&&Object.keys(r).forEach(t=>{const a=t.replace(/^user\./,"");a in o.getValues()&&o.setError(a,{type:"server",message:r[t][0]??"Invalid value"})})},userViewModel:e,setUserViewModel:i}};export{y as default};
