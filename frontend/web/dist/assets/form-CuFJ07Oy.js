import{a as s,j as e,h as Ue,H as De,r as xt}from"./main-B5l4nXLl.js";import{V as vt,c as Oe,A as gt}from"./app-layout-CZMB9fCv.js";import{c as St,u as J,a as Fe,b as wt,d as Le,R as bt,e as Me,A as Ct,f as P,P as yt,g as jt,h as It,i as Tt,j as Nt,F as Pt,D as _t,C as Et,k as Rt}from"./index-D7abtMks.js";import{c as Mt,C as At,T as Dt}from"./top-action-bar-CxZCPOcs.js";import{u as U,c as Ot}from"./button-Dx4FmEoM.js";import{P as M}from"./index-orWhDq0J.js";import{b as Lt}from"./breadcrumb-items-ChGxhpJx.js";import kt from"./user-layout-DixBNe4K.js";import{u as Vt,F as Bt,a as k,b as V,c as B,d as H,e as G}from"./use-show-toast-BuEqbh2W.js";import{I as ce}from"./input-CvmhlAPa.js";import{a as re}from"./utils-X-Ef6Zcl.js";import{u as Ht}from"./useAppSelector-D09Rc2JS.js";import{c as ze}from"./createLucideIcon-B4Ag_IME.js";import Ut from"./useUserService-CRDewidx.js";import Ft from"./useUserForm-BSBI_sDp.js";import{U as I}from"./UserFormField-_ldtVMBA.js";import"./zod-DO8iPywE.js";import"./schemas-FPmG6iBe.js";import"./serviceHandler-BlQljMi1.js";import"./useUserRepository-Bi8s1gIF.js";import"./useRequest-yhIk8qBc.js";import"./BaseEntity-DGhPHkWu.js";import"./UserViewModel-CyUmostW.js";import"./userSchema-C-2P178M.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],We=ze("chevron-down",zt);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Kt=ze("chevron-up",Wt);function $t(o){const n=s.useRef({value:o,previous:o});return s.useMemo(()=>(n.current.value!==o&&(n.current.previous=n.current.value,n.current.value=o),n.current.previous),[o])}var Gt=[" ","Enter","ArrowUp","ArrowDown"],Yt=[" ","Enter"],se="Select",[ve,ge,qt]=Mt(se),[ie,en]=St(se,[qt,Fe]),Se=Fe(),[Xt,Q]=ie(se),[Zt,Jt]=ie(se),Ke=o=>{const{__scopeSelect:n,children:t,open:r,defaultOpen:c,onOpenChange:d,value:l,defaultValue:a,onValueChange:i,dir:m,name:v,autoComplete:w,disabled:p,required:b,form:S}=o,u=Se(n),[x,C]=s.useState(null),[h,g]=s.useState(null),[Y,A]=s.useState(!1),de=wt(m),[_,O]=Le({prop:r,defaultProp:c??!1,onChange:d,caller:se}),[q,te]=Le({prop:l,defaultProp:a,onChange:i,caller:se}),F=s.useRef(null),z=x?S||!!x.closest("form"):!0,[X,W]=s.useState(new Set),K=Array.from(X).map(E=>E.props.value).join(";");return e.jsx(bt,{...u,children:e.jsxs(Xt,{required:b,scope:n,trigger:x,onTriggerChange:C,valueNode:h,onValueNodeChange:g,valueNodeHasChildren:Y,onValueNodeHasChildrenChange:A,contentId:Me(),value:q,onValueChange:te,open:_,onOpenChange:O,dir:de,triggerPointerDownPosRef:F,disabled:p,children:[e.jsx(ve.Provider,{scope:n,children:e.jsx(Zt,{scope:o.__scopeSelect,onNativeOptionAdd:s.useCallback(E=>{W(L=>new Set(L).add(E))},[]),onNativeOptionRemove:s.useCallback(E=>{W(L=>{const $=new Set(L);return $.delete(E),$})},[]),children:t})}),z?e.jsxs(pt,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:w,value:q,onChange:E=>te(E.target.value),disabled:p,form:S,children:[q===void 0?e.jsx("option",{value:""}):null,Array.from(X)]},K):null]})})};Ke.displayName=se;var $e="SelectTrigger",Ge=s.forwardRef((o,n)=>{const{__scopeSelect:t,disabled:r=!1,...c}=o,d=Se(t),l=Q($e,t),a=l.disabled||r,i=U(n,l.onTriggerChange),m=ge(t),v=s.useRef("touch"),[w,p,b]=ft(u=>{const x=m().filter(g=>!g.disabled),C=x.find(g=>g.value===l.value),h=ht(x,u,C);h!==void 0&&l.onValueChange(h.value)}),S=u=>{a||(l.onOpenChange(!0),b()),u&&(l.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(Ct,{asChild:!0,...d,children:e.jsx(M.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":mt(l.value)?"":void 0,...c,ref:i,onClick:P(c.onClick,u=>{u.currentTarget.focus(),v.current!=="mouse"&&S(u)}),onPointerDown:P(c.onPointerDown,u=>{v.current=u.pointerType;const x=u.target;x.hasPointerCapture(u.pointerId)&&x.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(S(u),u.preventDefault())}),onKeyDown:P(c.onKeyDown,u=>{const x=w.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&p(u.key),!(x&&u.key===" ")&&Gt.includes(u.key)&&(S(),u.preventDefault())})})})});Ge.displayName=$e;var Ye="SelectValue",Te=s.forwardRef((o,n)=>{const{__scopeSelect:t,className:r,style:c,children:d,placeholder:l="",...a}=o,i=Q(Ye,t),{onValueNodeHasChildrenChange:m}=i,v=d!==void 0,w=U(n,i.onValueNodeChange);return J(()=>{m(v)},[m,v]),e.jsx(M.span,{...a,ref:w,style:{pointerEvents:"none"},children:mt(i.value)?e.jsx(e.Fragment,{children:l}):d})});Te.displayName=Ye;var Qt="SelectIcon",qe=s.forwardRef((o,n)=>{const{__scopeSelect:t,children:r,...c}=o;return e.jsx(M.span,{"aria-hidden":!0,...c,ref:n,children:r||"â–¼"})});qe.displayName=Qt;var eo="SelectPortal",Xe=o=>e.jsx(yt,{asChild:!0,...o});Xe.displayName=eo;var le="SelectContent",Ze=s.forwardRef((o,n)=>{const t=Q(le,o.__scopeSelect),[r,c]=s.useState();if(J(()=>{c(new DocumentFragment)},[]),!t.open){const d=r;return d?Ue.createPortal(e.jsx(Je,{scope:o.__scopeSelect,children:e.jsx(ve.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),d):null}return e.jsx(Qe,{...o,ref:n})});Ze.displayName=le;var D=10,[Je,ee]=ie(le),to="SelectContentImpl",oo=Ot("SelectContent.RemoveScroll"),Qe=s.forwardRef((o,n)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:l,side:a,sideOffset:i,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:p,collisionPadding:b,sticky:S,hideWhenDetached:u,avoidCollisions:x,...C}=o,h=Q(le,t),[g,Y]=s.useState(null),[A,de]=s.useState(null),_=U(n,f=>Y(f)),[O,q]=s.useState(null),[te,F]=s.useState(null),z=ge(t),[X,W]=s.useState(!1),K=s.useRef(!1);s.useEffect(()=>{if(g)return It(g)},[g]),Tt();const E=s.useCallback(f=>{const[T,...R]=z().map(N=>N.ref.current),[y]=R.slice(-1),j=document.activeElement;for(const N of f)if(N===j||(N?.scrollIntoView({block:"nearest"}),N===T&&A&&(A.scrollTop=0),N===y&&A&&(A.scrollTop=A.scrollHeight),N?.focus(),document.activeElement!==j))return},[z,A]),L=s.useCallback(()=>E([O,g]),[E,O,g]);s.useEffect(()=>{X&&L()},[X,L]);const{onOpenChange:$,triggerPointerDownPosRef:Z}=h;s.useEffect(()=>{if(g){let f={x:0,y:0};const T=y=>{f={x:Math.abs(Math.round(y.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(y.pageY)-(Z.current?.y??0))}},R=y=>{f.x<=10&&f.y<=10?y.preventDefault():g.contains(y.target)||$(!1),document.removeEventListener("pointermove",T),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",R,{capture:!0})}}},[g,$,Z]),s.useEffect(()=>{const f=()=>$(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[$]);const[we,fe]=ft(f=>{const T=z().filter(j=>!j.disabled),R=T.find(j=>j.ref.current===document.activeElement),y=ht(T,f,R);y&&setTimeout(()=>y.ref.current.focus())}),be=s.useCallback((f,T,R)=>{const y=!K.current&&!R;(h.value!==void 0&&h.value===T||y)&&(q(f),y&&(K.current=!0))},[h.value]),Ce=s.useCallback(()=>g?.focus(),[g]),ae=s.useCallback((f,T,R)=>{const y=!K.current&&!R;(h.value!==void 0&&h.value===T||y)&&F(f)},[h.value]),he=r==="popper"?Ne:et,ue=he===Ne?{side:a,sideOffset:i,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:p,collisionPadding:b,sticky:S,hideWhenDetached:u,avoidCollisions:x}:{};return e.jsx(Je,{scope:t,content:g,viewport:A,onViewportChange:de,itemRefCallback:be,selectedItem:O,onItemLeave:Ce,itemTextRefCallback:ae,focusSelectedItem:L,selectedItemText:te,position:r,isPositioned:X,searchRef:we,children:e.jsx(Nt,{as:oo,allowPinchZoom:!0,children:e.jsx(Pt,{asChild:!0,trapped:h.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:P(c,f=>{h.trigger?.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(_t,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:e.jsx(he,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:f=>f.preventDefault(),...C,...ue,onPlaced:()=>W(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:P(C.onKeyDown,f=>{const T=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!T&&f.key.length===1&&fe(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let y=z().filter(j=>!j.disabled).map(j=>j.ref.current);if(["ArrowUp","End"].includes(f.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const j=f.target,N=y.indexOf(j);y=y.slice(N+1)}setTimeout(()=>E(y)),f.preventDefault()}})})})})})})});Qe.displayName=to;var no="SelectItemAlignedPosition",et=s.forwardRef((o,n)=>{const{__scopeSelect:t,onPlaced:r,...c}=o,d=Q(le,t),l=ee(le,t),[a,i]=s.useState(null),[m,v]=s.useState(null),w=U(n,_=>v(_)),p=ge(t),b=s.useRef(!1),S=s.useRef(!0),{viewport:u,selectedItem:x,selectedItemText:C,focusSelectedItem:h}=l,g=s.useCallback(()=>{if(d.trigger&&d.valueNode&&a&&m&&u&&x&&C){const _=d.trigger.getBoundingClientRect(),O=m.getBoundingClientRect(),q=d.valueNode.getBoundingClientRect(),te=C.getBoundingClientRect();if(d.dir!=="rtl"){const j=te.left-O.left,N=q.left-j,oe=_.left-N,ne=_.width+oe,ye=Math.max(ne,O.width),je=window.innerWidth-D,Ie=Oe(N,[D,Math.max(D,je-ye)]);a.style.minWidth=ne+"px",a.style.left=Ie+"px"}else{const j=O.right-te.right,N=window.innerWidth-q.right-j,oe=window.innerWidth-_.right-N,ne=_.width+oe,ye=Math.max(ne,O.width),je=window.innerWidth-D,Ie=Oe(N,[D,Math.max(D,je-ye)]);a.style.minWidth=ne+"px",a.style.right=Ie+"px"}const F=p(),z=window.innerHeight-D*2,X=u.scrollHeight,W=window.getComputedStyle(m),K=parseInt(W.borderTopWidth,10),E=parseInt(W.paddingTop,10),L=parseInt(W.borderBottomWidth,10),$=parseInt(W.paddingBottom,10),Z=K+E+X+$+L,we=Math.min(x.offsetHeight*5,Z),fe=window.getComputedStyle(u),be=parseInt(fe.paddingTop,10),Ce=parseInt(fe.paddingBottom,10),ae=_.top+_.height/2-D,he=z-ae,ue=x.offsetHeight/2,f=x.offsetTop+ue,T=K+E+f,R=Z-T;if(T<=ae){const j=F.length>0&&x===F[F.length-1].ref.current;a.style.bottom="0px";const N=m.clientHeight-u.offsetTop-u.offsetHeight,oe=Math.max(he,ue+(j?Ce:0)+N+L),ne=T+oe;a.style.height=ne+"px"}else{const j=F.length>0&&x===F[0].ref.current;a.style.top="0px";const oe=Math.max(ae,K+u.offsetTop+(j?be:0)+ue)+R;a.style.height=oe+"px",u.scrollTop=T-ae+u.offsetTop}a.style.margin=`${D}px 0`,a.style.minHeight=we+"px",a.style.maxHeight=z+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[p,d.trigger,d.valueNode,a,m,u,x,C,d.dir,r]);J(()=>g(),[g]);const[Y,A]=s.useState();J(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const de=s.useCallback(_=>{_&&S.current===!0&&(g(),h?.(),S.current=!1)},[g,h]);return e.jsx(so,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:de,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Y},children:e.jsx(M.div,{...c,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});et.displayName=no;var ro="SelectPopperPosition",Ne=s.forwardRef((o,n)=>{const{__scopeSelect:t,align:r="start",collisionPadding:c=D,...d}=o,l=Se(t);return e.jsx(Et,{...l,...d,ref:n,align:r,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ne.displayName=ro;var[so,Ae]=ie(le,{}),Pe="SelectViewport",tt=s.forwardRef((o,n)=>{const{__scopeSelect:t,nonce:r,...c}=o,d=ee(Pe,t),l=Ae(Pe,t),a=U(n,d.onViewportChange),i=s.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(ve.Slot,{scope:t,children:e.jsx(M.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:P(c.onScroll,m=>{const v=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:p}=l;if(p?.current&&w){const b=Math.abs(i.current-v.scrollTop);if(b>0){const S=window.innerHeight-D*2,u=parseFloat(w.style.minHeight),x=parseFloat(w.style.height),C=Math.max(u,x);if(C<S){const h=C+b,g=Math.min(S,h),Y=h-g;w.style.height=g+"px",w.style.bottom==="0px"&&(v.scrollTop=Y>0?Y:0,w.style.justifyContent="flex-end")}}}i.current=v.scrollTop})})})]})});tt.displayName=Pe;var ot="SelectGroup",[lo,ao]=ie(ot),co=s.forwardRef((o,n)=>{const{__scopeSelect:t,...r}=o,c=Me();return e.jsx(lo,{scope:t,id:c,children:e.jsx(M.div,{role:"group","aria-labelledby":c,...r,ref:n})})});co.displayName=ot;var nt="SelectLabel",io=s.forwardRef((o,n)=>{const{__scopeSelect:t,...r}=o,c=ao(nt,t);return e.jsx(M.div,{id:c.id,...r,ref:n})});io.displayName=nt;var xe="SelectItem",[uo,rt]=ie(xe),st=s.forwardRef((o,n)=>{const{__scopeSelect:t,value:r,disabled:c=!1,textValue:d,...l}=o,a=Q(xe,t),i=ee(xe,t),m=a.value===r,[v,w]=s.useState(d??""),[p,b]=s.useState(!1),S=U(n,h=>i.itemRefCallback?.(h,r,c)),u=Me(),x=s.useRef("touch"),C=()=>{c||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(uo,{scope:t,value:r,disabled:c,textId:u,isSelected:m,onItemTextChange:s.useCallback(h=>{w(g=>g||(h?.textContent??"").trim())},[]),children:e.jsx(ve.ItemSlot,{scope:t,value:r,disabled:c,textValue:v,children:e.jsx(M.div,{role:"option","aria-labelledby":u,"data-highlighted":p?"":void 0,"aria-selected":m&&p,"data-state":m?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...l,ref:S,onFocus:P(l.onFocus,()=>b(!0)),onBlur:P(l.onBlur,()=>b(!1)),onClick:P(l.onClick,()=>{x.current!=="mouse"&&C()}),onPointerUp:P(l.onPointerUp,()=>{x.current==="mouse"&&C()}),onPointerDown:P(l.onPointerDown,h=>{x.current=h.pointerType}),onPointerMove:P(l.onPointerMove,h=>{x.current=h.pointerType,c?i.onItemLeave?.():x.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(l.onPointerLeave,h=>{h.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:P(l.onKeyDown,h=>{i.searchRef?.current!==""&&h.key===" "||(Yt.includes(h.key)&&C(),h.key===" "&&h.preventDefault())})})})})});st.displayName=xe;var me="SelectItemText",lt=s.forwardRef((o,n)=>{const{__scopeSelect:t,className:r,style:c,...d}=o,l=Q(me,t),a=ee(me,t),i=rt(me,t),m=Jt(me,t),[v,w]=s.useState(null),p=U(n,C=>w(C),i.onItemTextChange,C=>a.itemTextRefCallback?.(C,i.value,i.disabled)),b=v?.textContent,S=s.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:b},i.value),[i.disabled,i.value,b]),{onNativeOptionAdd:u,onNativeOptionRemove:x}=m;return J(()=>(u(S),()=>x(S)),[u,x,S]),e.jsxs(e.Fragment,{children:[e.jsx(M.span,{id:i.textId,...d,ref:p}),i.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ue.createPortal(d.children,l.valueNode):null]})});lt.displayName=me;var at="SelectItemIndicator",ct=s.forwardRef((o,n)=>{const{__scopeSelect:t,...r}=o;return rt(at,t).isSelected?e.jsx(M.span,{"aria-hidden":!0,...r,ref:n}):null});ct.displayName=at;var _e="SelectScrollUpButton",it=s.forwardRef((o,n)=>{const t=ee(_e,o.__scopeSelect),r=Ae(_e,o.__scopeSelect),[c,d]=s.useState(!1),l=U(n,r.onScrollButtonChange);return J(()=>{if(t.viewport&&t.isPositioned){let a=function(){const m=i.scrollTop>0;d(m)};const i=t.viewport;return a(),i.addEventListener("scroll",a),()=>i.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),c?e.jsx(ut,{...o,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:i}=t;a&&i&&(a.scrollTop=a.scrollTop-i.offsetHeight)}}):null});it.displayName=_e;var Ee="SelectScrollDownButton",dt=s.forwardRef((o,n)=>{const t=ee(Ee,o.__scopeSelect),r=Ae(Ee,o.__scopeSelect),[c,d]=s.useState(!1),l=U(n,r.onScrollButtonChange);return J(()=>{if(t.viewport&&t.isPositioned){let a=function(){const m=i.scrollHeight-i.clientHeight,v=Math.ceil(i.scrollTop)<m;d(v)};const i=t.viewport;return a(),i.addEventListener("scroll",a),()=>i.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),c?e.jsx(ut,{...o,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:i}=t;a&&i&&(a.scrollTop=a.scrollTop+i.offsetHeight)}}):null});dt.displayName=Ee;var ut=s.forwardRef((o,n)=>{const{__scopeSelect:t,onAutoScroll:r,...c}=o,d=ee("SelectScrollButton",t),l=s.useRef(null),a=ge(t),i=s.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return s.useEffect(()=>()=>i(),[i]),J(()=>{a().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),e.jsx(M.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:P(c.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:P(c.onPointerMove,()=>{d.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:P(c.onPointerLeave,()=>{i()})})}),po="SelectSeparator",mo=s.forwardRef((o,n)=>{const{__scopeSelect:t,...r}=o;return e.jsx(M.div,{"aria-hidden":!0,...r,ref:n})});mo.displayName=po;var Re="SelectArrow",fo=s.forwardRef((o,n)=>{const{__scopeSelect:t,...r}=o,c=Se(t),d=Q(Re,t),l=ee(Re,t);return d.open&&l.position==="popper"?e.jsx(Rt,{...c,...r,ref:n}):null});fo.displayName=Re;var ho="SelectBubbleInput",pt=s.forwardRef(({__scopeSelect:o,value:n,...t},r)=>{const c=s.useRef(null),d=U(r,c),l=$t(n);return s.useEffect(()=>{const a=c.current;if(!a)return;const i=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(i,"value").set;if(l!==n&&v){const w=new Event("change",{bubbles:!0});v.call(a,n),a.dispatchEvent(w)}},[l,n]),e.jsx(M.select,{...t,style:{...vt,...t.style},ref:d,defaultValue:n})});pt.displayName=ho;function mt(o){return o===""||o===void 0}function ft(o){const n=jt(o),t=s.useRef(""),r=s.useRef(0),c=s.useCallback(l=>{const a=t.current+l;n(a),(function i(m){t.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>i(""),1e3))})(a)},[n]),d=s.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,c,d]}function ht(o,n,t){const c=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,d=t?o.indexOf(t):-1;let l=xo(o,Math.max(d,0));c.length===1&&(l=l.filter(m=>m!==t));const i=l.find(m=>m.textValue.toLowerCase().startsWith(c.toLowerCase()));return i!==t?i:void 0}function xo(o,n){return o.map((t,r)=>o[(n+r)%o.length])}var vo=Ke,go=Ge,So=qe,wo=Xe,bo=Ze,Co=tt,yo=st,jo=lt,Io=ct,To=it,No=dt;function ke({className:o,...n}){return e.jsx("textarea",{"data-slot":"textarea",className:re("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),...n})}function Ve({...o}){return e.jsx(vo,{"data-slot":"select",...o})}function Be({className:o,size:n="default",children:t,...r}){return e.jsxs(go,{"data-slot":"select-trigger","data-size":n,className:re("cursor-pointer border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),...r,children:[t,e.jsx(So,{asChild:!0,children:e.jsx(We,{className:"size-4 opacity-50"})})]})}function He({className:o,children:n,position:t="popper",...r}){return e.jsx(wo,{children:e.jsxs(bo,{"data-slot":"select-content",className:re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...r,children:[e.jsx(Po,{}),e.jsx(Co,{className:re("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(_o,{})]})})}function pe({className:o,children:n,...t}){return e.jsxs(yo,{"data-slot":"select-item",className:re("cursor-pointer focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Io,{children:e.jsx(At,{className:"size-4"})})}),e.jsx(jo,{children:n})]})}function Po({className:o,...n}){return e.jsx(To,{"data-slot":"select-scroll-up-button",className:re("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(Kt,{className:"size-4"})})}function _o({className:o,...n}){return e.jsx(No,{"data-slot":"select-scroll-down-button",className:re("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(We,{className:"size-4"})})}function tn({user:o}){const n=Ht(p=>p.loading.global),t=Vt(),{form:r,setFormError:c,userViewModel:d,setUserViewModel:l}=Ft({userDTO:o}),{create:a,update:i}=Ut(),m=[...Lt,{title:d?.username||"Create",href:"/"}],v=[{value:"Admin",label:"Admin"},{value:"Supervisor",label:"Supervisor"},{value:"User",label:"User"},{value:"Developer",label:"Developer"}],w=async()=>{const b={...r.getValues()};try{if(d?.UUID){const S=await i(b);l(S),t("Success","Update user successfully","success")}else{const S=await a(b);l(S),t("Success","Create user successfully","success"),xt.visit(`/user/${d?.UUID}`)}}catch(S){c(S),t("Error","Error on create","error")}};return e.jsxs(gt,{breadcrumbs:m,children:[e.jsx(De,{title:"User"}),e.jsx(De,{title:d?.fullName??"Create"}),e.jsx(kt,{children:e.jsx(Bt,{...r,children:e.jsxs("form",{className:"grid grid-cols-4 gap-6 w-full items-start",onSubmit:r.handleSubmit(w),children:[e.jsx("div",{className:"col-span-4",children:e.jsx(Dt,{saveAction:{},browseAction:{to:"/user/index"},deleteAction:{action:()=>{}}})}),e.jsx(k,{control:r.control,name:I.username.name,render:({field:p})=>e.jsxs(V,{children:[e.jsx(B,{children:I.username.label}),e.jsx(H,{children:e.jsx(ce,{...p,disabled:n})}),e.jsx(G,{})]})}),e.jsx(k,{control:r.control,name:I.fullName.name,render:({field:p})=>e.jsxs(V,{children:[e.jsx(B,{children:I.fullName.label}),e.jsx(H,{children:e.jsx(ce,{...p,disabled:n})}),e.jsx(G,{})]})}),e.jsx(k,{control:r.control,name:I.email.name,render:({field:p})=>e.jsxs(V,{children:[e.jsx(B,{children:I.email.label}),e.jsx(H,{children:e.jsx(ce,{...p,disabled:n})}),e.jsx(G,{})]})}),e.jsx(k,{control:r.control,name:I.title.name,render:({field:p})=>e.jsxs(V,{children:[e.jsx(B,{children:I.title.label}),e.jsx(H,{children:e.jsx(ce,{...p,value:p.value??void 0,disabled:n})}),e.jsx(G,{})]})}),e.jsx(k,{control:r.control,name:I.phoneNo.name,render:({field:p})=>e.jsxs(V,{children:[e.jsx(B,{children:I.phoneNo.label}),e.jsx(H,{children:e.jsx(ce,{...p,value:p.value??void 0,disabled:n})}),e.jsx(G,{})]})}),e.jsx(k,{control:r.control,name:I.gender.name,render:({field:p})=>e.jsxs(V,{className:"w-full",children:[e.jsx(B,{children:I.gender.label}),e.jsx(H,{className:"w-full",children:e.jsxs(Ve,{onValueChange:p.onChange,defaultValue:p.value??"",children:[e.jsx(Be,{className:"w-full",children:e.jsx(Te,{placeholder:I.gender.label})}),e.jsxs(He,{className:"w-full",children:[e.jsx(pe,{value:"Male",children:"Male"}),e.jsx(pe,{value:"Female",children:"Female"}),e.jsx(pe,{value:"Others",children:"Others"}),e.jsx(pe,{value:"Rather not say",children:"Rather not say"})]})]})}),e.jsx(G,{})]})}),e.jsx(k,{control:r.control,name:I.role.name,render:({field:p})=>e.jsxs(V,{className:"w-full",children:[e.jsx(B,{children:I.role.label}),e.jsx(H,{className:"w-full",children:e.jsxs(Ve,{onValueChange:p.onChange,defaultValue:p.value??"",children:[e.jsx(Be,{className:"w-full",children:e.jsx(Te,{placeholder:I.role.label})}),e.jsx(He,{className:"w-full",children:v.map(b=>e.jsx(pe,{value:b.value,children:b.label}))})]})}),e.jsx(G,{})]})}),e.jsx(k,{control:r.control,name:I.department.name,render:({field:p})=>e.jsxs(V,{children:[e.jsx(B,{children:I.department.label}),e.jsx(H,{children:e.jsx(ce,{...p,value:p.value??void 0,disabled:n})}),e.jsx(G,{})]})}),e.jsx(k,{control:r.control,name:I.description.name,render:({field:p})=>e.jsxs(V,{className:"col-span-2",children:[e.jsx(B,{children:I.description.label}),e.jsx(H,{children:e.jsx(ke,{...p,value:p.value??"",disabled:n,rows:4,style:{resize:"vertical",overflowY:"auto",maxHeight:"8rem",minHeight:"8rem"}})})]})}),e.jsx(k,{control:r.control,name:I.address.name,render:({field:p})=>e.jsxs(V,{className:"col-span-2",children:[e.jsx(B,{children:I.address.label}),e.jsx(H,{children:e.jsx(ke,{...p,value:p.value??"",disabled:n,rows:4,style:{resize:"vertical",overflowY:"auto",maxHeight:"8rem",minHeight:"8rem"}})}),e.jsx(G,{})]})})]})})})]})}export{tn as default};
