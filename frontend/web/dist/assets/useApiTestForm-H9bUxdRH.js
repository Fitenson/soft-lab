import{u as b,a as F}from"./zod-AvncayTh.js";import{A as x}from"./ApiTestViewModel-DgxPnehm.js";import{c as r,a as u}from"./main-BD-uWNuX.js";import{o as A,s as t,n as E}from"./schemas-IYWG8WH7.js";const s={parentApiTest:r({name:"parentApiTest",label:"Parent Api Test"}),clientDatabase:r({name:"clientDatabase",label:"Client Database"}),project:r({name:"project",label:"Project"}),testName:r({name:"testName",label:"Test Name",max:50}),isFolder:r({name:"isFolder",label:"isFolder"}),transmission:r({name:"transmission",label:"Body"}),description:r({name:"description",label:"Description"}),moreDescription:r({name:"moreDescription",label:"More Description"})},f=A({testName:t().max(s.testName.max,{error:s.testName.maxError}),parentApiTest:t().optional(),clientDatabase:t(),project:t(),isFolder:E(),transmission:t(),description:t().max(s.description.max,{error:s.description.maxError}).optional(),moreDescription:t().max(s.moreDescription.max,{error:s.moreDescription.maxError}).optional()}),v=({apiTestDTO:e})=>{const[m,l]=u.useState(()=>e?new x(e):null),a=b({resolver:F(f),defaultValues:{parentApiTest:e?.parentApiTest??"",clientDatabase:e?.clientDatabase??"",project:e?.project??"",testName:e?.testName??"",isFolder:e?.isFolder??0,transmission:e?.transmission??"",description:e?.description??"",moreDescription:e?.moreDescription??""}});return{form:a,setFormError:(c,p)=>{const{setToastError:d}=p||{},o=c?.response?.data?.errors??{};typeof o=="string"?d?.(o):o&&Object.keys(o).length>0&&Object.keys(o).forEach(i=>{const n=i.replace(/^apiTest\./,"");n in a.getValues()&&a.setError(n,{type:"server",message:o[i][0]??"Invalid value"})})},apiTestViewModel:m,setApiTestViewModel:l}};export{s as A,v as u};
