import{u as y,j as s,A as l,s as F,r as N}from"./main-D5mPtQeD.js";import L from"./auth-layout-TZ24DMFG.js";import{u as b,C,a as S,b as A,c as E,F as v,d as T,e as c,f as i,g as m,h as d,I as x,i as u,L as k,j as D,k as I}from"./loading-button-CDWN-Dj0.js";import q from"./useLoginForm-DtsujIj0.js";import B from"./useAuthService-CL1vardw.js";import{u as P}from"./useAppSelector-c-PBPF5F.js";import{m as R}from"./proxy-hIXUkuLm.js";import"./button-twFiZFDt.js";import"./zod-BmMUYDXY.js";import"./index-HJmcFfuN.js";import"./useAuthRepository-Bm1sinKa.js";function X(){const t=b(),h=y(),p=P(e=>e.loading.global),{form:r,loginFormField:n,setFormError:j}=q(),{login:f}=B(),w=async()=>{const e=r.getValues(),g=new l(e);await f(g,{onSuccess:a=>{const o=new l(a);h(F(o)),t("Success","Login successfully","success"),N.visit("/dashboard")},onError:a=>{j(a,{setToastError(o){t("Failed",o,"error")}})}})};return s.jsx(L,{children:s.jsx("section",{className:"flex w-full items-center justify-center",children:s.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl",children:s.jsxs(C,{className:"rounded-2xl shadow-md h-auto",children:[s.jsxs(S,{children:[s.jsx(A,{className:"text-3xl font-bold text-center",children:"Soft Lab"}),s.jsx(E,{className:"text-center text-2xl my-2 mb-2",children:"Welcome Back"})]}),s.jsx(v,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(w),className:"flex flex-col h-full",children:[s.jsxs(T,{className:"flex-1 space-y-6 mx-4",children:[s.jsx(c,{control:r.control,name:n.username,render:({field:e})=>s.jsxs(i,{className:"space-y-1",children:[s.jsx(m,{className:"text-xl",children:"Username"}),s.jsx(d,{children:s.jsx(x,{placeholder:"Enter your username",...e,required:!0})}),s.jsx(u,{})]})}),s.jsx(c,{control:r.control,name:n.password,render:({field:e})=>s.jsxs(i,{className:"space-y-1",children:[s.jsx(m,{className:"text-xl",children:"Password"}),s.jsx(d,{children:s.jsx(x,{placeholder:"Enter your password",...e,type:"password",required:!0})}),s.jsx(u,{})]})}),s.jsx(k,{className:"w-full my-2",isLoading:p,children:"Login"})]}),s.jsx(D,{className:"flex justify-center my-4",children:s.jsxs("p",{className:"space-x-4",children:[s.jsx("span",{children:"Don't have account with us?"}),s.jsx(I,{to:"/register",children:"Register now"})]})})]})})]})})})})}export{X as default};
