import{c as t,j as o}from"./main-DnMLoToh.js";import{a as p,b as d,c as u,d as b}from"./form-C40xZwDO.js";import{u as f,a as g}from"./zod-DwH4jKzW.js";import{o as h,s as a,b as v}from"./schemas-CeLLD0oL.js";import{T as x}from"./textarea-BzsE9W6y.js";import{u as j}from"./useAppSelector-DZhqBEEd.js";const s={parentApiTest:t({name:"parentApiTest",label:"Parent Api Test"}),clientDatabase:t({name:"clientDatabase",label:"Client Database"}),project:t({name:"project",label:"Project"}),testName:t({name:"testName",label:"Test Name",max:50}),data:t({name:"data",label:"Data"}),isFolder:t({name:"isFolder",label:"isFolder"}),transmission:t({name:"transmission",label:"Body"}),description:t({name:"description",label:"Description"}),moreDescription:t({name:"moreDescription",label:"More Description"}),output:t({name:"output",label:"Output"}),scenario:t({name:"scenario",label:"Scenario"})},A=h({testName:a().max(s.testName.max,{error:s.testName.maxError}),parentApiTest:a().optional(),clientDatabase:a(),project:a(),data:a().optional(),output:a().optional(),isFolder:v(),transmission:a(),description:a().max(s.description.max,{error:s.description.maxError}).optional(),moreDescription:a().max(s.moreDescription.max,{error:s.moreDescription.maxError}).optional(),scenario:a().optional()}),E=({apiTestViewModel:e})=>{const i=f({resolver:g(A),defaultValues:{parentApiTest:e?.parentApiTest??"",clientDatabase:e?.clientDatabase??"",project:e?.project??"",testName:e?.testName??"",isFolder:e?.isFolder??!1,transmission:e?.transmission??"",description:e?.description??"",moreDescription:e?.moreDescription??"",data:e?.data??"",output:e?.output??"",scenario:e?.scenario??""}});return{form:i,setFormError:(r,D)=>{const{setToastError:F}=D||{},n=r?.response?.data?.errors??{};typeof n=="string"?F?.(n):n&&Object.keys(n).length>0&&Object.keys(n).forEach(m=>{const c=m.replace(/^apiTest\./,"");c in i.getValues()&&i.setError(c,{type:"server",message:n[m][0]??"Invalid value"})})}}};function T(){const e=j(r=>r.loading.global),i=j(r=>r.apiTest.selectedApiTest),{form:l}=E({apiTestViewModel:i});return o.jsxs("div",{className:"w-full",children:[o.jsx(p,{control:l.control,name:s.description.name,render:({field:r})=>o.jsxs(d,{children:[o.jsx(u,{children:s.description.label}),o.jsx(b,{children:o.jsx(x,{...r,value:r.value??"",disabled:e,rows:4,style:{resize:"vertical",overflowY:"auto",maxHeight:"8rem",minHeight:"8rem"}})})]})}),o.jsx(p,{control:l.control,name:s.moreDescription.name,render:({field:r})=>o.jsxs(d,{children:[o.jsx(u,{children:s.moreDescription.label}),o.jsx(b,{children:o.jsx(x,{...r,value:r.value??"",disabled:e,rows:4,style:{resize:"vertical",overflowY:"auto",maxHeight:"8rem",minHeight:"8rem"}})})]})})]})}const P=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));export{s as A,T as D,P as d,E as u};
