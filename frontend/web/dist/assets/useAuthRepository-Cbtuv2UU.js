import{u as i,r as n,a as p,s as u,b as c}from"./main-C8i2bDRg.js";const m=i,g=()=>{const s=n.useMemo(()=>p.create({baseURL:"http://softlab-backend.test/backend",withCredentials:!0}),[]),[o,d]=n.useState(null),t=m(a=>a.loading.global),[e,l]=n.useState(null);return{data:o,isLoading:t,error:e,request:async a=>{u.dispatch(c(!0));try{const r=await s.request({url:a?.url,method:a?.method,data:a?.data,...a?.config,headers:{"Content-Type":"multipart/form-data"}});return d(r.data),r.data}catch(r){throw l(r),r}finally{u.dispatch(c(!1))}},axiosInstance:s}},h=()=>{const{request:s}=g();return{login:async t=>{const e=new FormData;return e.append("username",t.getUsername()),e.append("password",t.getPassword()),await s({url:"/auth/login",method:"POST",data:e})},register:async t=>{const e=new FormData;return e.append("fullName",t.getFullName()),e.append("username",t.getUsername()),e.append("email",t.getEmail()),e.append("password",t.getPassword()),await s({url:"/auth/register",method:"POST",data:e})}}};export{h as default};
