import{a as u,b as l,c,d as i}from"./main-D5mPtQeD.js";import{u as p}from"./useAppSelector-c-PBPF5F.js";const m=()=>{const r=u.useMemo(()=>l.create({baseURL:"http://softlab-backend.test/backend",withCredentials:!0}),[]),o=p(a=>a.loading.global),[n,t]=u.useState(null);return{isLoading:o,error:n,request:async a=>{const d=a?.withLoading!==!1;d&&c.dispatch(i(!0));try{return(await r.request({url:a?.url,method:a?.method,data:a?.data,...a?.config,headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw t(s),s}finally{d&&c.dispatch(i(!1))}},axiosInstance:r}},h=()=>{const{request:r}=m();return{login:async t=>{const e=new FormData;return e.append("username",t.getUsername()),e.append("password",t.getPassword()),await r({url:"/auth/login",method:"POST",data:e})},register:async t=>{const e=new FormData;return e.append("fullName",t.getFullName()),e.append("username",t.getUsername()),e.append("email",t.getEmail()),e.append("password",t.getPassword()),await r({url:"/auth/register",method:"POST",data:e})}}};export{h as default};
