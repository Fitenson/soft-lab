import{c as r,j as t}from"./main-lnUC2C4t.js";import{a as p,b as d,c as u,d as b}from"./form-BEFRQl2h.js";import{u as F,a as g}from"./zod-D-6eltyA.js";import{o as h,s as o,b as v}from"./schemas-CeLLD0oL.js";import{T as x}from"./textarea-4Hlyjxho.js";import{u as j}from"./useAppSelector-OiQ7ZuxK.js";import{s as A}from"./apiTestSelectors-CEH30gK5.js";const a={parentApiTest:r({name:"parentApiTest",label:"Parent Api Test"}),clientDatabase:r({name:"clientDatabase",label:"Client Database"}),project:r({name:"project",label:"Project"}),testName:r({name:"testName",label:"Test Name",max:50}),data:r({name:"data",label:"Data"}),isFolder:r({name:"isFolder",label:"isFolder"}),transmission:r({name:"transmission",label:"Body"}),description:r({name:"description",label:"Description"}),moreDescription:r({name:"moreDescription",label:"More Description"}),output:r({name:"output",label:"Output"}),scenario:r({name:"scenario",label:"Scenario"})},E=h({testName:o().max(a.testName.max,{error:a.testName.maxError}),parentApiTest:o().optional(),clientDatabase:o(),project:o(),data:o().optional(),output:o().optional(),isFolder:v(),transmission:o(),description:o().max(a.description.max,{error:a.description.maxError}).optional(),moreDescription:o().max(a.moreDescription.max,{error:a.moreDescription.maxError}).optional(),scenario:o().optional()}),T=({apiTestViewModel:e})=>{const i=F({resolver:g(E),defaultValues:{parentApiTest:e?.parentApiTest??"",clientDatabase:e?.clientDatabase??"",project:e?.project??"",testName:e?.testName??"",isFolder:e?.isFolder??!1,transmission:e?.transmission??"",description:e?.description??"",moreDescription:e?.moreDescription??"",data:e?.data??"",output:e?.output??"",scenario:e?.scenario??""}});return{form:i,setFormError:(s,f)=>{const{setToastError:D}=f||{},n=s?.response?.data?.errors??{};typeof n=="string"?D?.(n):n&&Object.keys(n).length>0&&Object.keys(n).forEach(m=>{const c=m.replace(/^apiTest\./,"");c in i.getValues()&&i.setError(c,{type:"server",message:n[m][0]??"Invalid value"})})}}};function y(){const e=j(s=>s.loading.global),i=j(A),{form:l}=T({apiTestViewModel:i});return t.jsxs("div",{className:"w-full",children:[t.jsx(p,{control:l.control,name:a.description.name,render:({field:s})=>t.jsxs(d,{children:[t.jsx(u,{children:a.description.label}),t.jsx(b,{children:t.jsx(x,{...s,value:s.value??"",disabled:e,rows:4,style:{resize:"vertical",overflowY:"auto",maxHeight:"8rem",minHeight:"8rem"}})})]})}),t.jsx(p,{control:l.control,name:a.moreDescription.name,render:({field:s})=>t.jsxs(d,{children:[t.jsx(u,{children:a.moreDescription.label}),t.jsx(b,{children:t.jsx(x,{...s,value:s.value??"",disabled:e,rows:4,style:{resize:"vertical",overflowY:"auto",maxHeight:"8rem",minHeight:"8rem"}})})]})})]})}const C=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{a as A,y as D,C as d,T as u};
