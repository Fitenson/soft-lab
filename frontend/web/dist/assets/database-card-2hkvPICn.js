import{R as x,j as e}from"./main-CsR0FSNB.js";import{C as u,a as f,b as h,d as j,e as p}from"./card-UoXQjzeR.js";import{C,u as g,D as N,a as D,b as w,c as v,d as b,e as S,f as U,g as k}from"./useClientDatabaseService-BoW23tR4.js";import{B as a}from"./button-DtNm-nRr.js";import{u as y}from"./use-show-toast-CuK2cHWg.js";import"./index-CvKWK_R0.js";import"./index-DXlFIkJI.js";import"./createLucideIcon-xryrdAC5.js";import"./serviceHandler-BlQljMi1.js";import"./useRequest-Cuu0V-_Z.js";import"./useAppSelector-c7v-W6pN.js";import"./BaseEntity-DGhPHkWu.js";function q({clientDatabaseDTO:t}){const[l,o]=x.useState(!1),s=new C(t),r=y(),{removeClientDatabase:c,connectClientDatabase:i}=g(),d=async()=>{const m=[s.UUID];await c(m,{onSuccess:n=>{n.success&&n.success.length>0?(r("Success","Connection successfully removed","success"),o(!1)):r("Error","Failed to remove the connection","error")},onError:()=>{r("Error","Server error","error")}})};return e.jsxs(u,{className:"w-full h-full",children:[e.jsx(f,{children:e.jsx(h,{className:"text-center font-semibold",children:s.databaseName})}),e.jsxs(j,{className:"flex flex-col gap-2 text-xs",children:[e.jsxs("div",{className:"text-start text-foreground dark:text-foreground",children:[e.jsx("span",{className:"font-medium",children:"Schema: "}),e.jsx("span",{className:"font-normal",children:s.databaseName})]}),e.jsxs("div",{className:"text-start text-foreground dark:text-foreground",children:[e.jsx("span",{className:"font-medium",children:"Port: "}),e.jsx("span",{className:"font-normal",children:s.port})]}),e.jsxs("div",{className:"text-start text-foreground dark:text-foreground",children:[e.jsx("span",{className:"font-medium",children:"Username: "}),e.jsx("span",{className:"font-normal",children:s.username})]})]}),e.jsxs(p,{className:"flex flex-col w-full gap-2",children:[e.jsx(a,{className:"w-full",onClick:()=>i(t.UUID),children:"Connect"}),e.jsxs(N,{open:l,onOpenChange:o,children:[e.jsx(D,{asChild:!0,children:e.jsx(a,{variant:"destructive",className:"w-full",children:"Delete"})}),e.jsxs(w,{className:"sm:max-w-[425px]",children:[e.jsxs(v,{children:[e.jsx(b,{children:"Delete Connection"}),e.jsx(S,{children:"Are you sure you want to delete this connection? This action cannot be undone."})]}),e.jsxs(U,{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2",children:[e.jsx(k,{asChild:!0,children:e.jsx(a,{variant:"outline",className:"sm:w-auto w-full",children:"Cancel"})}),e.jsx(a,{onClick:d,variant:"destructive",className:"sm:w-auto w-full",children:"Remove"})]})]})]})]})]})}export{q as default};
