import{E as Be,a as o,F as le,G as de,j as a,I as Xe,J as Ye,P as B,K as He,L as k,M as v,N as D,O as We,Q as ze,U as Je,V as Qe,W as Ze,X as $e}from"./main-Bla8sumr.js";import{c as qe,u as et}from"./index-DVsU--bz.js";import{h as tt,u as nt,R as ot,F as rt}from"./index-Drmh2Hcs.js";import{c as fe,I as ct,R as st}from"./index-CYl4Z3Im.js";var Q=["Enter"," "],at=["ArrowDown","PageUp","Home"],pe=["ArrowUp","PageDown","End"],ut=[...at,...pe],it={ltr:[...Q,"ArrowRight"],rtl:[...Q,"ArrowLeft"]},lt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},N="Menu",[O,dt,ft]=qe(N),[R,Kt]=Be(N,[ft,le,fe]),X=le(),me=fe(),[pt,P]=R(N),[mt,F]=R(N),Me=e=>{const{__scopeMenu:n,open:t=!1,children:r,dir:u,onOpenChange:c,modal:d=!0}=e,m=X(n),[h,p]=o.useState(null),l=o.useRef(!1),s=de(c),f=et(u);return o.useEffect(()=>{const x=()=>{l.current=!0,document.addEventListener("pointerdown",M,{capture:!0,once:!0}),document.addEventListener("pointermove",M,{capture:!0,once:!0})},M=()=>l.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",M,{capture:!0}),document.removeEventListener("pointermove",M,{capture:!0})}},[]),a.jsx(Xe,{...m,children:a.jsx(pt,{scope:n,open:t,onOpenChange:s,content:h,onContentChange:p,children:a.jsx(mt,{scope:n,onClose:o.useCallback(()=>s(!1),[s]),isUsingKeyboardRef:l,dir:f,modal:d,children:r})})})};Me.displayName=N;var Mt="MenuAnchor",Z=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,u=X(t);return a.jsx(Ye,{...u,...r,ref:n})});Z.displayName=Mt;var $="MenuPortal",[vt,ve]=R($,{forceMount:void 0}),he=e=>{const{__scopeMenu:n,forceMount:t,children:r,container:u}=e,c=P($,n);return a.jsx(vt,{scope:n,forceMount:t,children:a.jsx(B,{present:t||c.open,children:a.jsx(He,{asChild:!0,container:u,children:r})})})};he.displayName=$;var g="MenuContent",[ht,q]=R(g),Ce=o.forwardRef((e,n)=>{const t=ve(g,e.__scopeMenu),{forceMount:r=t.forceMount,...u}=e,c=P(g,e.__scopeMenu),d=F(g,e.__scopeMenu);return a.jsx(O.Provider,{scope:e.__scopeMenu,children:a.jsx(B,{present:r||c.open,children:a.jsx(O.Slot,{scope:e.__scopeMenu,children:d.modal?a.jsx(Ct,{...u,ref:n}):a.jsx(xt,{...u,ref:n})})})})}),Ct=o.forwardRef((e,n)=>{const t=P(g,e.__scopeMenu),r=o.useRef(null),u=k(n,r);return o.useEffect(()=>{const c=r.current;if(c)return tt(c)},[]),a.jsx(ee,{...e,ref:u,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:v(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),xt=o.forwardRef((e,n)=>{const t=P(g,e.__scopeMenu);return a.jsx(ee,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),gt=ze("MenuContent.ScrollLock"),ee=o.forwardRef((e,n)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:u,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:m,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:s,onInteractOutside:f,onDismiss:x,disableOutsideScroll:M,...E}=e,y=P(g,t),S=F(g,t),De=X(t),Ne=me(t),re=dt(t),[Fe,ce]=o.useState(null),L=o.useRef(null),Le=k(n,L,y.onContentChange),K=o.useRef(0),G=o.useRef(""),Ke=o.useRef(0),H=o.useRef(null),se=o.useRef("right"),W=o.useRef(0),Ge=M?ot:o.Fragment,Ue=M?{as:gt,allowPinchZoom:!0}:void 0,Ve=i=>{const I=G.current+i,_=re().filter(C=>!C.disabled),b=document.activeElement,z=_.find(C=>C.ref.current===b)?.textValue,J=_.map(C=>C.textValue),ae=Ot(J,I,z),T=_.find(C=>C.textValue===ae)?.ref.current;(function C(ue){G.current=ue,window.clearTimeout(K.current),ue!==""&&(K.current=window.setTimeout(()=>C(""),1e3))})(I),T&&setTimeout(()=>T.focus())};o.useEffect(()=>()=>window.clearTimeout(K.current),[]),nt();const w=o.useCallback(i=>se.current===H.current?.side&&kt(i,H.current?.area),[]);return a.jsx(ht,{scope:t,searchRef:G,onItemEnter:o.useCallback(i=>{w(i)&&i.preventDefault()},[w]),onItemLeave:o.useCallback(i=>{w(i)||(L.current?.focus(),ce(null))},[w]),onTriggerLeave:o.useCallback(i=>{w(i)&&i.preventDefault()},[w]),pointerGraceTimerRef:Ke,onPointerGraceIntentChange:o.useCallback(i=>{H.current=i},[]),children:a.jsx(Ge,{...Ue,children:a.jsx(rt,{asChild:!0,trapped:u,onMountAutoFocus:v(c,i=>{i.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:a.jsx(Je,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:s,onInteractOutside:f,onDismiss:x,children:a.jsx(st,{asChild:!0,...Ne,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:Fe,onCurrentTabStopIdChange:ce,onEntryFocus:v(h,i=>{S.isUsingKeyboardRef.current||i.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Qe,{role:"menu","aria-orientation":"vertical","data-state":ke(y.open),"data-radix-menu-content":"",dir:S.dir,...De,...E,ref:Le,style:{outline:"none",...E.style},onKeyDown:v(E.onKeyDown,i=>{const _=i.target.closest("[data-radix-menu-content]")===i.currentTarget,b=i.ctrlKey||i.altKey||i.metaKey,z=i.key.length===1;_&&(i.key==="Tab"&&i.preventDefault(),!b&&z&&Ve(i.key));const J=L.current;if(i.target!==J||!ut.includes(i.key))return;i.preventDefault();const T=re().filter(C=>!C.disabled).map(C=>C.ref.current);pe.includes(i.key)&&T.reverse(),Tt(T)}),onBlur:v(e.onBlur,i=>{i.currentTarget.contains(i.target)||(window.clearTimeout(K.current),G.current="")}),onPointerMove:v(e.onPointerMove,j(i=>{const I=i.target,_=W.current!==i.clientX;if(i.currentTarget.contains(I)&&_){const b=i.clientX>W.current?"right":"left";se.current=b,W.current=i.clientX}}))})})})})})})});Ce.displayName=g;var _t="MenuGroup",te=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(D.div,{role:"group",...r,ref:n})});te.displayName=_t;var Rt="MenuLabel",xe=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(D.div,{...r,ref:n})});xe.displayName=Rt;var U="MenuItem",ie="menu.itemSelect",Y=o.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:r,...u}=e,c=o.useRef(null),d=F(U,e.__scopeMenu),m=q(U,e.__scopeMenu),h=k(n,c),p=o.useRef(!1),l=()=>{const s=c.current;if(!t&&s){const f=new CustomEvent(ie,{bubbles:!0,cancelable:!0});s.addEventListener(ie,x=>r?.(x),{once:!0}),We(s,f),f.defaultPrevented?p.current=!1:d.onClose()}};return a.jsx(ge,{...u,ref:h,disabled:t,onClick:v(e.onClick,l),onPointerDown:s=>{e.onPointerDown?.(s),p.current=!0},onPointerUp:v(e.onPointerUp,s=>{p.current||s.currentTarget?.click()}),onKeyDown:v(e.onKeyDown,s=>{const f=m.searchRef.current!=="";t||f&&s.key===" "||Q.includes(s.key)&&(s.currentTarget.click(),s.preventDefault())})})});Y.displayName=U;var ge=o.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:r=!1,textValue:u,...c}=e,d=q(U,t),m=me(t),h=o.useRef(null),p=k(n,h),[l,s]=o.useState(!1),[f,x]=o.useState("");return o.useEffect(()=>{const M=h.current;M&&x((M.textContent??"").trim())},[c.children]),a.jsx(O.ItemSlot,{scope:t,disabled:r,textValue:u??f,children:a.jsx(ct,{asChild:!0,...m,focusable:!r,children:a.jsx(D.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:p,onPointerMove:v(e.onPointerMove,j(M=>{r?d.onItemLeave(M):(d.onItemEnter(M),M.defaultPrevented||M.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:v(e.onPointerLeave,j(M=>d.onItemLeave(M))),onFocus:v(e.onFocus,()=>s(!0)),onBlur:v(e.onBlur,()=>s(!1))})})})}),Pt="MenuCheckboxItem",_e=o.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:r,...u}=e;return a.jsx(we,{scope:e.__scopeMenu,checked:t,children:a.jsx(Y,{role:"menuitemcheckbox","aria-checked":V(t)?"mixed":t,...u,ref:n,"data-state":oe(t),onSelect:v(u.onSelect,()=>r?.(V(t)?!0:!t),{checkForDefaultPrevented:!1})})})});_e.displayName=Pt;var Re="MenuRadioGroup",[Et,St]=R(Re,{value:void 0,onValueChange:()=>{}}),Pe=o.forwardRef((e,n)=>{const{value:t,onValueChange:r,...u}=e,c=de(r);return a.jsx(Et,{scope:e.__scopeMenu,value:t,onValueChange:c,children:a.jsx(te,{...u,ref:n})})});Pe.displayName=Re;var Ee="MenuRadioItem",Se=o.forwardRef((e,n)=>{const{value:t,...r}=e,u=St(Ee,e.__scopeMenu),c=t===u.value;return a.jsx(we,{scope:e.__scopeMenu,checked:c,children:a.jsx(Y,{role:"menuitemradio","aria-checked":c,...r,ref:n,"data-state":oe(c),onSelect:v(r.onSelect,()=>u.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});Se.displayName=Ee;var ne="MenuItemIndicator",[we,wt]=R(ne,{checked:!1}),Ie=o.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:r,...u}=e,c=wt(ne,t);return a.jsx(B,{present:r||V(c.checked)||c.checked===!0,children:a.jsx(D.span,{...u,ref:n,"data-state":oe(c.checked)})})});Ie.displayName=ne;var It="MenuSeparator",ye=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(D.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});ye.displayName=It;var yt="MenuArrow",be=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,u=X(t);return a.jsx(Ze,{...u,...r,ref:n})});be.displayName=yt;var bt="MenuSub",[Gt,Te]=R(bt),A="MenuSubTrigger",Ae=o.forwardRef((e,n)=>{const t=P(A,e.__scopeMenu),r=F(A,e.__scopeMenu),u=Te(A,e.__scopeMenu),c=q(A,e.__scopeMenu),d=o.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:h}=c,p={__scopeMenu:e.__scopeMenu},l=o.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return o.useEffect(()=>l,[l]),o.useEffect(()=>{const s=m.current;return()=>{window.clearTimeout(s),h(null)}},[m,h]),a.jsx(Z,{asChild:!0,...p,children:a.jsx(ge,{id:u.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":u.contentId,"data-state":ke(t.open),...e,ref:$e(n,u.onTriggerChange),onClick:s=>{e.onClick?.(s),!(e.disabled||s.defaultPrevented)&&(s.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:v(e.onPointerMove,j(s=>{c.onItemEnter(s),!s.defaultPrevented&&!e.disabled&&!t.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{t.onOpenChange(!0),l()},100))})),onPointerLeave:v(e.onPointerLeave,j(s=>{l();const f=t.content?.getBoundingClientRect();if(f){const x=t.content?.dataset.side,M=x==="right",E=M?-5:5,y=f[M?"left":"right"],S=f[M?"right":"left"];c.onPointerGraceIntentChange({area:[{x:s.clientX+E,y:s.clientY},{x:y,y:f.top},{x:S,y:f.top},{x:S,y:f.bottom},{x:y,y:f.bottom}],side:x}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(s),s.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:v(e.onKeyDown,s=>{const f=c.searchRef.current!=="";e.disabled||f&&s.key===" "||it[r.dir].includes(s.key)&&(t.onOpenChange(!0),t.content?.focus(),s.preventDefault())})})})});Ae.displayName=A;var Oe="MenuSubContent",je=o.forwardRef((e,n)=>{const t=ve(g,e.__scopeMenu),{forceMount:r=t.forceMount,...u}=e,c=P(g,e.__scopeMenu),d=F(g,e.__scopeMenu),m=Te(Oe,e.__scopeMenu),h=o.useRef(null),p=k(n,h);return a.jsx(O.Provider,{scope:e.__scopeMenu,children:a.jsx(B,{present:r||c.open,children:a.jsx(O.Slot,{scope:e.__scopeMenu,children:a.jsx(ee,{id:m.contentId,"aria-labelledby":m.triggerId,...u,ref:p,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{d.isUsingKeyboardRef.current&&h.current?.focus(),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:v(e.onFocusOutside,l=>{l.target!==m.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:v(e.onEscapeKeyDown,l=>{d.onClose(),l.preventDefault()}),onKeyDown:v(e.onKeyDown,l=>{const s=l.currentTarget.contains(l.target),f=lt[d.dir].includes(l.key);s&&f&&(c.onOpenChange(!1),m.trigger?.focus(),l.preventDefault())})})})})})});je.displayName=Oe;function ke(e){return e?"open":"closed"}function V(e){return e==="indeterminate"}function oe(e){return V(e)?"indeterminate":e?"checked":"unchecked"}function Tt(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function At(e,n){return e.map((t,r)=>e[(n+r)%e.length])}function Ot(e,n,t){const u=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,c=t?e.indexOf(t):-1;let d=At(e,Math.max(c,0));u.length===1&&(d=d.filter(p=>p!==t));const h=d.find(p=>p.toLowerCase().startsWith(u.toLowerCase()));return h!==t?h:void 0}function jt(e,n){const{x:t,y:r}=e;let u=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const m=n[c],h=n[d],p=m.x,l=m.y,s=h.x,f=h.y;l>r!=f>r&&t<(s-p)*(r-l)/(f-l)+p&&(u=!u)}return u}function kt(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return jt(t,n)}function j(e){return n=>n.pointerType==="mouse"?e(n):void 0}var Ut=Me,Vt=Z,Bt=he,Xt=Ce,Yt=te,Ht=xe,Wt=Y,zt=_e,Jt=Pe,Qt=Se,Zt=Ie,$t=ye,qt=be,en=Ae,tn=je;export{Vt as A,Xt as C,Yt as G,Wt as I,Ht as L,Bt as P,Ut as R,$t as S,zt as a,Zt as b,Kt as c,Jt as d,Qt as e,qt as f,en as g,tn as h};
