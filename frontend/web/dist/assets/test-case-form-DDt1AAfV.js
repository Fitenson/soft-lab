import{c as s,b as j,j as e}from"./main-DKkfExXF.js";import{I as f}from"./input-B09zvZQ7.js";import{F,a as T,b as N,c as D,d as h}from"./form-pxTw1GV0.js";import{T as v,a as E,b as l,c}from"./tabs-TOE1fRm2.js";import{u as A,a as g}from"./zod-DwvpLQ2A.js";import{A as w}from"./ApiTestViewModel-Bfq7sIUP.js";import{o as y,s as r,b as V}from"./schemas-CeLLD0oL.js";import S from"./documentation-tab-BJfGP65S.js";import C from"./data-tab-DUyFuJTX.js";import I from"./scenario-tab-BrF8mp4x.js";import"./index-D0mbqntV.js";const t={parentApiTest:s({name:"parentApiTest",label:"Parent Api Test"}),clientDatabase:s({name:"clientDatabase",label:"Client Database"}),project:s({name:"project",label:"Project"}),testName:s({name:"testName",label:"Test Name",max:50}),data:s({name:"data",label:"Data"}),isFolder:s({name:"isFolder",label:"isFolder"}),transmission:s({name:"transmission",label:"Body"}),description:s({name:"description",label:"Description"}),moreDescription:s({name:"moreDescription",label:"More Description"}),output:s({name:"output",label:"Output"}),scenario:s({name:"scenario",label:"Scenario"})},M=y({testName:r().max(t.testName.max,{error:t.testName.maxError}),parentApiTest:r().optional(),clientDatabase:r(),project:r(),data:r().optional(),output:r().optional(),isFolder:V(),transmission:r(),description:r().max(t.description.max,{error:t.description.maxError}).optional(),moreDescription:r().max(t.moreDescription.max,{error:t.moreDescription.maxError}).optional(),scenario:r().optional()}),k=({apiTestDTO:i})=>{const[a,n]=j.useState(()=>i?new w(i):void 0),m=A({resolver:g(M),defaultValues:{parentApiTest:a?.parentApiTest??"",clientDatabase:a?.clientDatabase??"",project:a?.project??"",testName:a?.testName??"",isFolder:a?.isFolder??!1,transmission:a?.transmission??"",description:a?.description??"",moreDescription:a?.moreDescription??"",data:a?.data??"",output:a?.output??"",scenario:a?.scenario??""}});return{form:m,setFormError:(u,x)=>{const{setToastError:b}=x||{},o=u?.response?.data?.errors??{};typeof o=="string"?b?.(o):o&&Object.keys(o).length>0&&Object.keys(o).forEach(p=>{const d=p.replace(/^apiTest\./,"");d in m.getValues()&&m.setError(d,{type:"server",message:o[p][0]??"Invalid value"})})},apiTestViewModel:a,setApiTestViewModel:n}};function W({apiTestDTO:i}){const{form:a}=k({apiTestDTO:i});return e.jsx("div",{className:"h-full w-full",children:e.jsx(F,{...a,children:e.jsxs("form",{children:[e.jsx(T,{name:t.testName.name,render:({field:n})=>e.jsxs(N,{className:"m-2",children:[e.jsx(D,{children:t.testName.label}),e.jsx(h,{children:e.jsx(f,{...n})})]})}),e.jsxs(v,{className:"w-full m-2",defaultValue:"documentation",children:[e.jsxs(E,{className:"w-full flex justify-start",children:[e.jsx(l,{className:"cursor-pointer",value:"documentation",children:"Documentation"}),e.jsx(l,{className:"cursor-pointer",value:"data",children:"Data"}),e.jsx(l,{className:"cursor-pointer",value:"scenario",children:"Scenario"})]}),e.jsx(c,{value:"documentation",className:"m-2",children:e.jsx(S,{})}),e.jsx(c,{value:"data",className:"m-2",children:e.jsx(C,{})}),e.jsx(c,{value:"scenario",className:"m-2",children:e.jsx(I,{})})]})]})})})}export{W as default};
