import{u as l,a as u}from"./zod-DKOJ7l8r.js";import{c as r}from"./main-BAb7QXQE.js";import{o as b,s as t,n as D}from"./schemas-IYWG8WH7.js";const o={parentApiTest:r({name:"parentApiTest",label:"Parent Api Test"}),clientDatabase:r({name:"clientDatabase",label:"Client Database"}),project:r({name:"project",label:"Project"}),testName:r({name:"testName",label:"Test Name",max:50}),data:r({name:"data",label:"Data"}),isFolder:r({name:"isFolder",label:"isFolder"}),transmission:r({name:"transmission",label:"Body"}),description:r({name:"description",label:"Description"}),moreDescription:r({name:"moreDescription",label:"More Description"}),output:r({name:"output",label:"Output"}),scenario:r({name:"scenario",label:"Scenario"})},d=b({testName:t().max(o.testName.max,{error:o.testName.maxError}),parentApiTest:t().optional(),clientDatabase:t(),project:t(),data:t().optional(),output:t().optional(),isFolder:D(),transmission:t(),description:t().max(o.description.max,{error:o.description.maxError}).optional(),moreDescription:t().max(o.moreDescription.max,{error:o.moreDescription.maxError}).optional(),scenario:t().optional()}),A=({apiTestViewModel:e})=>{const s=l({resolver:u(d),defaultValues:{parentApiTest:e?.parentApiTest??"",clientDatabase:e?.clientDatabase??"",project:e?.project??"",testName:e?.testName??"",isFolder:e?.isFolder??0,transmission:e?.transmission??"",description:e?.description??"",moreDescription:e?.moreDescription??"",data:e?.data??"",output:e?.output??"",scenario:e?.scenario??""}});return{form:s,setFormError:(m,c)=>{const{setToastError:p}=c||{},a=m?.response?.data?.errors??{};typeof a=="string"?p?.(a):a&&Object.keys(a).length>0&&Object.keys(a).forEach(n=>{const i=n.replace(/^apiTest\./,"");i in s.getValues()&&s.setError(i,{type:"server",message:a[n][0]??"Invalid value"})})}}};export{o as A,A as u};
