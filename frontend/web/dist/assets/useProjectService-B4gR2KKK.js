import{u as y}from"./useRequest-D0DmBEsy.js";import{I as N}from"./main-CqIcQYOd.js";import{B as P}from"./BaseEntity-DGhPHkWu.js";import{h as n}from"./serviceHandler-BlQljMi1.js";class _{_UUID;_projectName;_projectCode;_description;_secondDescription;_moreDescription;_valid;_createdAtFormat;_createdByName;_updatedAtFormat;_updatedByName;constructor(e){this._UUID=e.UUID??"",this._projectName=e.projectName??"",this._projectCode=e.projectCode??"",this._description=e.description??"",this._secondDescription=e.secondDescription??"",this._moreDescription=e.moreDescription??"",this._valid=e.valid??!0,this._createdAtFormat=e.createdAtFormat??"",this._createdByName=e.createdByName??"",this._updatedAtFormat=e.updatedAtFormat??"",this._updatedByName=e.updatedByName??""}get UUID(){return this._UUID}get projectName(){return this._projectName}get projectCode(){return this._projectCode}get description(){return this._description}get secondDescription(){return this._secondDescription}get moreDescription(){return this._moreDescription}get valid(){return this._valid}get createdAtFormat(){return this._createdAtFormat}get createdByName(){return this._createdByName}get updatedAtFormat(){return this._updatedAtFormat}get updatedByName(){return this._updatedByName}}const l=["UUID","projectName","projectCode","description","secondDescription","moreDescription","valid"];function u(c,e){return N(c,l,e,"project")}class d extends P{_UUID;_projectName;_projectCode;_description;_secondDescription;_moreDescription;_valid;_createdAtFormat;_createdByName;_updatedAtFormat;_updatedByName;constructor(e){super(e),this._UUID=e.UUID??"",this._projectName=e.projectName??"",this._projectCode=e.projectCode??"",this._description=e.description??"",this._secondDescription=e.secondDescription??"",this._moreDescription=e.moreDescription??"",this._valid=e.valid??!0,this._createdAtFormat=e.createdAtFormat??"",this._createdByName=e.createdByName??"",this._updatedAtFormat=e.updatedAtFormat??"",this._updatedByName=e.updatedByName??""}asViewModel(){return new _(this.asDto())}get UUID(){return this._UUID}set UUID(e){this._UUID=e}get projectName(){return this._projectName}set projectName(e){this._projectName=e}get projectCode(){return this._projectCode}set projectCode(e){this._projectCode=e}get description(){return this._description}set description(e){this._description=e}get secondDescription(){return this._secondDescription}set secondDescription(e){this._secondDescription=e}get moreDescription(){return this._moreDescription}set moreDescription(e){this._moreDescription=e}get valid(){return this._valid}set valid(e){this._valid=e}get createdAtFormat(){return this._createdAtFormat}set createdAtFormat(e){this._createdAtFormat=e}get createdByName(){return this._createdByName}set createdByName(e){this._createdByName=e}get updatedAtFormat(){return this._updatedAtFormat}set updatedAtFormat(e){this._updatedAtFormat=e}get updatedByName(){return this._updatedByName}set updatedByName(e){this._updatedByName=e}}const F=()=>{const{request:c}=y();return{indexProject:async r=>{const t=new FormData;return t.append("param[offset]",r.offset),t.append("param[limit]",r.limit),t.append("param[sort]",r.sort),t.append("param[order]",r.order),r.filter!=="{}"&&t.append("param[filter] ",r.filter),await c({url:"/project/index",method:"POST",data:t})},createProject:async r=>{const t=r.asDto(),a=u(t,new FormData),o=(await c({url:"/project/create",method:"POST",data:a})).project;return new d(o)},updateProject:async r=>{const t=r.asDto(),a=u(t,new FormData),o=(await c({url:`/project/update?id=${t.UUID}`,method:"POST",data:a})).project;return new d(o)},removeProject:async r=>{const t=new FormData;return r.forEach(a=>{t.append("UUIDs[]",a)}),await c({url:"/user/remove",method:"POST",data:t})}}},g=()=>{const{indexProject:c,createProject:e,updateProject:p,removeProject:m}=F();return{indexProject:async(i,o)=>n(async()=>{const s=await c(i),h=s.rows.map(D=>new _(D));return{...s,rows:h}},o),createProject:async(i,o)=>{let s=new d(i);return s=await n(async()=>e(s),o),s.asViewModel()},updateProject:async(i,o)=>{let s=new d(i);return s=await n(async()=>p(s),o),s.asViewModel()},removeProject:async(i,o)=>await n(async()=>m(i),o)}};export{_ as P,g as u};
