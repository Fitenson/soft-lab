import{u as l}from"./index.esm-D7VeYQlz.js";import{a as f}from"./zod-BErPEfBI.js";import{loginSchema as p}from"./loginSchema-1MLqGyGF.js";import"./main-DY2sbF6P.js";import"./schemas-DUe4ZLmH.js";import"./LoginFormField-jSJDLZOV.js";const h=()=>{const o=l({resolver:f(p),defaultValues:{username:"",password:""}});return{form:o,setFormError:(a,n)=>{const{setToastError:t}=n||{},e=a.response?.data.errors;typeof e=="string"?t?.(e):Object.keys(e).length>0?Object.entries(e).forEach(([m,s])=>{const i=m.replace(/^user\./,"");let r;Array.isArray(s)?r=s[0]??"Invalid value":typeof s=="string"?r=s:r="Invalid value",i in o.getValues()?o.setError(i,{type:"server",message:r}):t?.(r)}):t?.("Something went wrong. Please try again.")}}};export{h as default};
