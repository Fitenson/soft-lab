import{a as n,e as f,f as u,g as i}from"./main-BF5HN9By.js";import{u as c}from"./useAppSelector-li8CIZJK.js";const w=()=>{const s=n.useMemo(()=>f.create({baseURL:"http://softlab-backend.test/backend",withCredentials:!0}),[]),d=c(e=>e.loading.global),a=c(e=>e.auth.authViewModel),[l,h]=n.useState(null);return{isLoading:d,error:l,request:async e=>{const r=e?.withLoading!==!1;let o={};if(r&&u.dispatch(i(!0)),a){const t=`${a.username}:${a.password}`;o={Authorization:`Basic ${btoa(t)}`}}try{return(await s.request({url:e?.url,method:e?.method,data:e?.data,...e?.config,headers:{"Content-Type":"multipart/form-data",...o}})).data}catch(t){throw h(t),t}finally{r&&u.dispatch(i(!1))}},axiosInstance:s}};export{w as u};
